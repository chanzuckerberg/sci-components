"use strict";(self.webpackChunk_czi_sds_monorepo=self.webpackChunk_czi_sds_monorepo||[]).push([[9982],{"./packages/components/src/core/NavigationJumpTo/__storybook__/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,JumpToNavDemo:()=>JumpToNavDemo,Test:()=>Test,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dist=__webpack_require__("./node_modules/@geometricpanda/storybook-addon-badges/dist/index.mjs"),NavigationJumpTo=__webpack_require__("./packages/components/src/core/NavigationJumpTo/index.tsx");const default_NavigationJumpTo=props=>{const{items,...rest}=props;return(0,jsx_runtime.jsx)(NavigationJumpTo.A,{items,...rest})};default_NavigationJumpTo.__docgenInfo={description:"",methods:[],displayName:"NavigationJumpTo"};var Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),react=__webpack_require__("./node_modules/react/index.js"),InputSlider=__webpack_require__("./packages/components/src/core/InputSlider/index.tsx");const TabPanel=(0,react.forwardRef)(((props,ref)=>{const{children,sdsDemoHeight,...other}=props;return(0,jsx_runtime.jsx)("div",{ref,role:"tabpanel",style:{alignItems:"center",backgroundColor:"#f4f4f4",color:"black",display:"flex",fontFamily:"Inter, sans-serif",fontSize:"36px",fontWeight:100,justifyContent:"center",margin:"0px 22px 22px 6px",minHeight:`${sdsDemoHeight}vh`,textAlign:"center"},...other,children:(0,jsx_runtime.jsxs)(Box.A,{sx:{p:3},children:[children,(0,jsx_runtime.jsxs)("p",{style:{fontSize:14,margin:"5px 0 0 0"},children:["height: ",sdsDemoHeight," vh"]})]})})})),NavigationJumpToDemo=props=>{const[navPanelHeight,setNavPanelHeight]=(0,react.useState)(100),sectionRef0=(0,react.useRef)(null),sectionRef1=(0,react.useRef)(null),sectionRef2=(0,react.useRef)(null),sectionRef3=(0,react.useRef)(null),sectionRef4=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)(Box.A,{children:[(0,jsx_runtime.jsxs)(Box.A,{sx:{fontFamily:"Inter, sans-serif",margin:"0 0 30px 6px",width:250},children:[(0,jsx_runtime.jsx)("p",{id:"nav-item-height-slider",style:{marginBottom:"5px"},children:"Section panel height:"}),(0,jsx_runtime.jsx)(InputSlider.A,{"aria-labelledby":"nav-item-height-slider",min:20,max:120,step:1,onChange:(_,value)=>{setNavPanelHeight(value)},defaultValue:100,marks:[{label:"20",value:20},{label:"40",value:40},{label:"60",value:60},{label:"80",value:80},{label:"100",value:100},{label:"120",value:120}]})]}),(0,jsx_runtime.jsxs)(Box.A,{sx:{display:"flex",flexDirection:"row-reverse",position:"relative",width:"100%"},children:[(0,jsx_runtime.jsx)(Box.A,{sx:{width:150},children:(0,jsx_runtime.jsx)(NavigationJumpTo.A,{...props,items:[{elementRef:sectionRef0,title:"Section 1"},{elementRef:sectionRef1,title:"Section 2"},{elementRef:sectionRef2,title:"Section 3"},{elementRef:sectionRef3,title:"Section 4"},{elementRef:sectionRef4,title:"Section 5"}]})}),(0,jsx_runtime.jsxs)(Box.A,{sx:{position:"relative",width:"100%"},children:[(0,jsx_runtime.jsx)(TabPanel,{id:"navigation-panel-1",ref:sectionRef0,sdsDemoHeight:navPanelHeight,children:"Section #1"}),(0,jsx_runtime.jsx)(TabPanel,{id:"navigation-panel-2",ref:sectionRef1,sdsDemoHeight:navPanelHeight,children:"Section #2"}),(0,jsx_runtime.jsx)(TabPanel,{id:"navigation-panel-3",ref:sectionRef2,sdsDemoHeight:navPanelHeight,children:"Section #3"}),(0,jsx_runtime.jsx)(TabPanel,{id:"navigation-panel-4",ref:sectionRef3,sdsDemoHeight:navPanelHeight,children:"Section #4"}),(0,jsx_runtime.jsx)(TabPanel,{id:"navigation-panel-5",ref:sectionRef4,sdsDemoHeight:navPanelHeight,children:"Section #5"})]})]})]})};NavigationJumpToDemo.__docgenInfo={description:"",methods:[],displayName:"NavigationJumpToDemo"};const TestDemo=props=>{const{items,...rest}=props;return(0,jsx_runtime.jsx)(NavigationJumpTo.A,{"data-testid":"navigation-jump-to",items,...rest})};TestDemo.__docgenInfo={description:"",methods:[],displayName:"TestDemo"};const index_stories={argTypes:{items:{control:{require:!0,type:"object"},defaultValue:{summary:"-"},description:"An array of object containing a title for the Navigation Tab and a ref to the section div."},offsetTop:{control:{description:"wew",type:"number"},defaultValue:{summary:"0"},description:"To apply the offsetTop to the component, please refresh the page."}},component:default_NavigationJumpTo,parameters:{badges:[dist.yq.STABLE]},title:"Components/NavigationJumpTo"},Default={args:{items:[{elementRef:{current:null},title:"Item 1"},{elementRef:{current:null},title:"Item 2"},{elementRef:{current:null},title:"Item 3"},{elementRef:{current:null},title:"Item 4"},{elementRef:{current:null},title:"Item 5"}],offsetTop:0},parameters:{axe:{disabledRules:["aria-valid-attr-value"]},controls:{expanded:!0}},render:args=>(0,jsx_runtime.jsx)(default_NavigationJumpTo,{...args})},JumpToNavDemo={args:{items:[],offsetTop:0},parameters:{axe:{disabledRules:["aria-valid-attr-value"]},controls:{exclude:["items"],expanded:!0}},render:args=>(0,jsx_runtime.jsx)(NavigationJumpToDemo,{...args})},Test={args:{items:[{elementRef:{current:null},title:"Item 1"},{elementRef:{current:null},title:"Item 2"},{elementRef:{current:null},title:"Item 3"},{elementRef:{current:null},title:"Item 4"},{elementRef:{current:null},title:"Item 5"}]},parameters:{axe:{disabledRules:["aria-valid-attr-value"]},controls:{exclude:["items","offsetTop"]},snapshot:{skip:!0}},render:args=>(0,jsx_runtime.jsx)(TestDemo,{...args})},__namedExportsOrder=["Default","JumpToNavDemo","Test"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    items: [{\n      elementRef: {\n        current: null\n      },\n      title: "Item 1"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 2"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 3"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 4"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 5"\n    }],\n    offsetTop: 0\n  },\n  parameters: {\n    axe: {\n      disabledRules: [NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE]\n    },\n    controls: {\n      expanded: true\n    }\n  },\n  render: (args: Args) => <NavigationJumpTo {...args} />\n}',...Default.parameters?.docs?.source}}},JumpToNavDemo.parameters={...JumpToNavDemo.parameters,docs:{...JumpToNavDemo.parameters?.docs,source:{originalSource:'{\n  args: {\n    items: [],\n    offsetTop: 0\n  },\n  parameters: {\n    axe: {\n      disabledRules: [NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE]\n    },\n    controls: {\n      exclude: ["items"],\n      expanded: true\n    }\n  },\n  render: (args: Args) => <NavigationJumpToDemo {...args} />\n}',...JumpToNavDemo.parameters?.docs?.source}}},Test.parameters={...Test.parameters,docs:{...Test.parameters?.docs,source:{originalSource:'{\n  args: {\n    items: [{\n      elementRef: {\n        current: null\n      },\n      title: "Item 1"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 2"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 3"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 4"\n    }, {\n      elementRef: {\n        current: null\n      },\n      title: "Item 5"\n    }]\n  },\n  parameters: {\n    axe: {\n      disabledRules: [NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE]\n    },\n    controls: {\n      exclude: NAVIGATION_JUMP_TO_EXCLUDED_CONTROLS\n    },\n    snapshot: {\n      skip: true\n    }\n  },\n  render: (args: Args) => <TestDemo {...args} />\n}',...Test.parameters?.docs?.source}}}},"./packages/components/src/common/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J9:()=>filterProps,Ml:()=>EMPTY_OBJECT,fX:()=>toKebabCase,lQ:()=>noop});const noop=()=>{},toKebabCase=str=>str.replace(/[\s_]+/g,"-").toLowerCase(),EMPTY_OBJECT={};function filterProps(props,excludeProps){const result={};for(const key of Object.keys(props))excludeProps.includes(key)||(result[key]=props[key]);return result}},"./packages/components/src/core/InputSlider/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>core_InputSlider});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),sliderClasses=__webpack_require__("./node_modules/@mui/material/Slider/sliderClasses.js"),Slider=__webpack_require__("./node_modules/@mui/material/Slider/Slider.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),styles=__webpack_require__("./packages/components/src/core/styles/index.ts");const StyledSlider=(0,emotion_styled_browser_esm.A)(Slider.Ay,{target:"e3q6c8v0"})(styles.Pf," ",(props=>{const{disabled}=props;return`\n      ${(props=>{const corners=(0,styles.VP)(props),shadows=(0,styles.CG)(props),semanticColors=(0,styles.Bd)(props);return`\n    position: relative;\n\n    .${sliderClasses.A.rail},\n    .${sliderClasses.A.track} {\n      border-radius: 2px;\n    }\n\n    .${sliderClasses.A.rail} {\n      background-color: ${semanticColors?.base?.divider};\n      opacity:1;\n    }\n    \n    .${sliderClasses.A.track} {\n      background-color: ${semanticColors?.accent?.fillPrimary};\n    }\n\n    .${sliderClasses.A.thumb} {\n      ${(0,styles.UT)(props)}\n      height: 14px;\n      width: 14px;\n      background-color: ${semanticColors?.accent?.fillPrimary};\n\n      &.${sliderClasses.A.focusVisible}, &:hover, &:focus, &:active {\n        box-shadow: ${shadows?.none};\n      }\n    }\n\n    .${sliderClasses.A.thumb}::before {\n      display: none;\n    }\n\n    .${sliderClasses.A.thumb}::after {\n      background-color: ${semanticColors?.base?.backgroundPrimary} !important;\n      height: 6px !important;\n      width: 6px !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n\n    .${sliderClasses.A.valueLabel} {\n      padding: 2px 4px;\n      color: ${semanticColors?.base?.textPrimary};\n      background-color: ${semanticColors?.accent?.surfaceSecondary};\n      border-radius: ${corners?.m}px;\n      left: unset; \n      top: -3px;\n\n      &::before {\n        display: none;\n      }\n\n      & * {\n        background: transparent;\n        color: ${semanticColors?.base?.textPrimary};\n        transform: none;\n        width: unset;\n        height: unset;\n      }\n    }\n\n    .${sliderClasses.A.mark} {\n      // (masoudmanson): Although the mark is not a icon, but since we don't have \n      // a specific color for the mark, we use the ornamentDisabled color for it.\n      background-color: ${semanticColors?.base?.ornamentDisabled};\n      opacity: 1;\n    }\n\n    .${sliderClasses.A.mark}.${sliderClasses.A.markActive} {\n      background-color: ${semanticColors?.base?.backgroundPrimary};\n    }\n\n    .${sliderClasses.A.markLabel} {\n      ${(0,styles.jT)(props)?.styles}\n      color: ${semanticColors?.base?.textSecondary};\n    }\n\n    .${sliderClasses.A.markLabelActive} {\n      color: ${semanticColors?.base?.textPrimary};\n    }\n  `})(props)}\n      ${(props=>{const{marks}=props,lastMarkIndex=Array.isArray(marks)?marks.length-1:null;return`\n    .${sliderClasses.A.rail},\n    .${sliderClasses.A.track} {\n      border: none;\n      height: 4px;\n    }\n\n    // Adjust the position of the first mark by moving it 2px to the right to fit it inside the track\n    span[data-index="0"].${sliderClasses.A.mark} {\n      left: 2px !important;\n    }\n\n    // Adjust the position of the last mark by moving it 2px to the left to fit it inside the track\n    span[data-index="${lastMarkIndex}"].${sliderClasses.A.mark} {\n      left: calc(100% - 2px) !important;\n    }\n    \n    .${sliderClasses.A.markLabel} {\n      top: 26px;\n    }\n\n    .${sliderClasses.A.disabled} .${sliderClasses.A.track} {\n      border: none;\n    }\n  `})(props)}\n      ${disabled?(props=>{const semanticColors=(0,styles.Bd)(props);return`\n    .${sliderClasses.A.track} {\n      background-color: ${semanticColors?.base?.fillDisabled};\n    }\n\n    .${sliderClasses.A.thumb}.${sliderClasses.A.disabled} {\n      background-color: ${semanticColors?.base?.fillDisabled};\n    }\n\n    .${sliderClasses.A.valueLabel} {\n      color: ${semanticColors?.base?.textDisabled};\n      background-color: ${semanticColors?.base?.backgroundSecondary};\n      \n      & * {\n        color: ${semanticColors?.base?.textDisabled};\n      }\n    }\n\n    .${sliderClasses.A.markLabel} {\n      color: ${semanticColors?.base?.textDisabled}\n    }\n\n    .${sliderClasses.A.mark} {\n      background-color: ${semanticColors?.base?.fillPrimary};\n    }\n  `})(props):""}\n    `})),InputSlider=(0,react.forwardRef)(((props,ref)=>{const{min,max,...rest}=props;return(0,jsx_runtime.jsx)(StyledSlider,{ref,min,max,...rest,orientation:"horizontal","aria-label":`Slider - min ${min} to max ${max}`})})),core_InputSlider=InputSlider;InputSlider.__docgenInfo={description:"@see https://mui.com/material-ui/react-slider/",methods:[],displayName:"InputSlider"}},"./packages/components/src/core/NavigationJumpTo/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>core_NavigationJumpTo});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js");const scrollStop=(callback,timeout=50)=>{const callbackRef=(0,react.useRef)();callbackRef.current=callback,(0,react.useEffect)((()=>{const destroyListener=((callback,timeout=50)=>{let removed=!1,handle=null;const onScroll=()=>{handle&&clearTimeout(handle),handle=setTimeout(callback,timeout)};return document.addEventListener("scroll",onScroll,!0),()=>{removed||(removed=!0,handle&&clearTimeout(handle),document.removeEventListener("scroll",onScroll))}})((()=>{callbackRef.current&&callbackRef.current()}),timeout);return()=>destroyListener()}),[timeout])};var utils=__webpack_require__("./packages/components/src/common/utils.ts"),Tabs=__webpack_require__("./node_modules/@mui/material/Tabs/Tabs.js"),tabsClasses=__webpack_require__("./node_modules/@mui/material/Tabs/tabsClasses.js"),Tab=__webpack_require__("./node_modules/@mui/material/Tab/Tab.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),styles=__webpack_require__("./packages/components/src/core/styles/index.ts"),a11y=__webpack_require__("./packages/components/src/core/styles/common/mixins/a11y.ts");const doNotForwardProps=["items","sdsIndicatorColor"],StyledTabs=(0,emotion_styled_browser_esm.A)(Tabs.A,{shouldForwardProp:prop=>!doNotForwardProps.includes(prop),target:"eej1hhx0"})((props=>{const spaces=(0,styles.oZ)(props),semanticColors=(0,styles.Bd)(props);return`\n      &:before {\n        background-color: ${semanticColors?.base?.divider};\n        border-radius: ${spaces?.xxxs}px;\n        content: "";\n        height: 100%;\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: ${spaces?.xxxs}px;\n      }\n\n      max-width: 180px;\n      top: ${spaces?.xl}px;\n      margin-bottom: ${spaces?.l}px;\n      margin-right: ${spaces?.m}px;\n      position: sticky;\n      overflow: visible;\n\n      .${tabsClasses.A.indicator} {\n        background-color: ${semanticColors?.accent?.borderSelected} !important;\n        border-radius: 2px;\n        left: 0;\n        width: 2px;\n      }\n\n      .${tabsClasses.A.scroller} {\n        overflow: visible !important;\n      }\n    `})),StyledTab=(0,emotion_styled_browser_esm.A)(Tab.A,{shouldForwardProp:prop=>!doNotForwardProps.includes(prop),target:"eej1hhx1"})(styles.Zo," ",(props=>{const spaces=(0,styles.oZ)(props),semanticColors=(0,styles.Bd)(props);return`\n      ${(0,a11y.U)(props)}\n      box-sizing: border-box;\n      max-width: 180px;\n      padding-left: ${spaces?.l}px;\n      margin: 0 ${spaces?.l}px ${spaces?.m}px ${spaces?.l}px;\n      align-items: start;\n      min-height: unset;\n      max-height: unset;\n      text-transform: none;\n      &:last-child {\n        margin-bottom: 0;\n      }\n      &:before {\n        content: "";\n        position: absolute;\n        left: -${spaces?.l}px;\n        width: ${spaces?.xxxs}px;\n        height: 100%;\n        background-color: ${semanticColors?.base?.border};\n        display: none;\n        border-radius: ${spaces?.xxxs}px;\n      }\n      &:hover {\n        color: ${semanticColors?.base?.textPrimary};\n        &:before {\n          display: block;\n        }\n      }\n      &.Mui-selected {\n        color: ${semanticColors?.base?.textPrimary};\n        font-weight: 600;\n      }\n      &.MuiButtonBase-root {\n        white-space: nowrap;\n        padding: 0;\n        overflow: visible;\n      }\n    `}));const NavigationJumpTo=(0,react.forwardRef)(((props,ref)=>{const{items,offsetTop=0,onChange,...rest}=props,[navItemClicked,setNavItemClicked]=(0,react.useState)(!1),[firstTabIndexInview,setFirstTabIndexInview]=(0,react.useState)(0),[emittedValue,setEmittedValue]=(0,react.useState)(-1),sectionIsInView=function useInView(items){const[elements,setElements]=(0,react.useState)({});return(0,react.useEffect)((()=>{const observer=new IntersectionObserver((entries=>{entries.forEach(((entry,index)=>{const name=entry.target.getAttribute("id")||index;setElements((prev=>({...prev,[name]:{intersectionEntry:entry,isInView:entry.isIntersecting}})))}))}));return items.forEach((item=>{item.elementRef.current&&observer.observe(item.elementRef.current)})),()=>{observer.disconnect()}}),[items]),"undefined"!=typeof window&&window.IntersectionObserver?elements:items.map((item=>({el:item.elementRef,isInView:!1})))}(items);(0,react.useEffect)((()=>{items.forEach((item=>{if(offsetTop){const wrapper=document.createElement("div");wrapper.style.position="relative";const hiddenDiv=document.createElement("div");hiddenDiv.style.height=`${offsetTop}px`,hiddenDiv.style.top=`-${offsetTop}px`,hiddenDiv.style.position="absolute",hiddenDiv.style.pointerEvents="none",hiddenDiv.setAttribute("id",`${item.elementRef.current?.getAttribute("id")}-hiddenDiv`),wrapper.appendChild(hiddenDiv),item.elementRef.current?.before(wrapper),item.elementRef.current&&wrapper.appendChild(item.elementRef.current)}}))}),[items,offsetTop]);const a11yProps=(title,elementId)=>({"aria-controls":elementId,id:`navigation-tab-${title}`}),handleOnChange=(0,react.useCallback)((value=>{value!==emittedValue&&(onChange?.(value),setEmittedValue(value))}),[emittedValue,onChange]);return(0,react.useEffect)((()=>{const sectionInView=Object.values(sectionIsInView).findIndex((section=>section.isInView));sectionInView>-1&&!navItemClicked&&(setFirstTabIndexInview(sectionInView),handleOnChange(sectionInView))}),[handleOnChange,navItemClicked,sectionIsInView]),scrollStop((()=>{setNavItemClicked(!1)})),(0,jsx_runtime.jsx)(StyledTabs,{ref,orientation:"vertical",variant:"fullWidth",value:firstTabIndexInview,onChange:(event,newValue)=>{if(setNavItemClicked(!0),offsetTop){const hiddenDiv=document.getElementById(`${items[newValue]?.elementRef?.current?.getAttribute("id")}-hiddenDiv`);hiddenDiv?.scrollIntoView({behavior:"smooth",block:"start"})}else items[newValue]?.elementRef?.current?.scrollIntoView({behavior:"smooth",block:"start"});setFirstTabIndexInview(newValue),handleOnChange(newValue)},"aria-label":"navigation-jump-to",...rest,children:items.map((({title,elementRef},index)=>(0,jsx_runtime.jsx)(StyledTab,{label:title,tabIndex:0,...a11yProps((0,utils.fX)(title),elementRef.current?.getAttribute("id")||`navigation-panel-${index+1}`)},(0,utils.fX)(title))))})})),core_NavigationJumpTo=NavigationJumpTo;NavigationJumpTo.__docgenInfo={description:"",methods:[],displayName:"NavigationJumpTo"}}}]);