"use strict";(self.webpackChunk_czi_sds_monorepo=self.webpackChunk_czi_sds_monorepo||[]).push([[5243,68],{"./packages/data-viz/src/core/HeatmapChart/__storybook__/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,HeatmapDemo:()=>HeatmapDemo,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const HEATMAP_COLORS=["#ffffcc","#fffecb","#fffec9","#fffdc8","#fffdc6","#fffcc5","#fffcc4","#fffbc2","#fffac1","#fffac0","#fff9be","#fff9bd","#fff8bb","#fff8ba","#fff7b9","#fff6b7","#fff6b6","#fff5b5","#fff5b3","#fff4b2","#fff4b0","#fff3af","#fff2ae","#fff2ac","#fff1ab","#fff1aa","#fff0a8","#fff0a7","#ffefa6","#ffeea4","#ffeea3","#ffeda2","#ffeda0","#ffec9f","#ffeb9d","#ffeb9c","#ffea9b","#ffea99","#ffe998","#ffe897","#ffe895","#ffe794","#ffe693","#ffe691","#ffe590","#ffe48f","#ffe48d","#ffe38c","#fee28b","#fee289","#fee188","#fee087","#fee085","#fedf84","#fede83","#fedd82","#fedc80","#fedc7f","#fedb7e","#feda7c","#fed97b","#fed87a","#fed778","#fed777","#fed676","#fed574","#fed473","#fed372","#fed270","#fed16f","#fed06e","#fecf6c","#fece6b","#fecd6a","#fecb69","#feca67","#fec966","#fec865","#fec764","#fec662","#fec561","#fec460","#fec25f","#fec15e","#fec05c","#febf5b","#febe5a","#febd59","#febb58","#feba57","#feb956","#feb855","#feb754","#feb553","#feb452","#feb351","#feb250","#feb14f","#feb04e","#feae4d","#fead4d","#feac4c","#feab4b","#feaa4a","#fea84a","#fea749","#fea648","#fea547","#fea347","#fea246","#fea145","#fda045","#fd9e44","#fd9d44","#fd9c43","#fd9b42","#fd9942","#fd9841","#fd9741","#fd9540","#fd9440","#fd923f","#fd913f","#fd8f3e","#fd8e3e","#fd8d3d","#fd8b3c","#fd893c","#fd883b","#fd863b","#fd853a","#fd833a","#fd8139","#fd8039","#fd7e38","#fd7c38","#fd7b37","#fd7937","#fd7736","#fc7535","#fc7335","#fc7234","#fc7034","#fc6e33","#fc6c33","#fc6a32","#fc6832","#fb6731","#fb6531","#fb6330","#fb6130","#fb5f2f","#fa5d2e","#fa5c2e","#fa5a2d","#fa582d","#f9562c","#f9542c","#f9522b","#f8512b","#f84f2a","#f74d2a","#f74b29","#f64929","#f64828","#f54628","#f54427","#f44227","#f44127","#f33f26","#f23d26","#f23c25","#f13a25","#f03824","#f03724","#ef3524","#ee3423","#ed3223","#ed3123","#ec2f22","#eb2e22","#ea2c22","#e92b22","#e92921","#e82821","#e72621","#e62521","#e52420","#e42220","#e32120","#e22020","#e11f20","#e01d20","#df1c20","#de1b20","#dd1a20","#dc1920","#db1820","#da1720","#d91620","#d81520","#d71420","#d51320","#d41221","#d31121","#d21021","#d10f21","#cf0e21","#ce0d21","#cd0d22","#cc0c22","#ca0b22","#c90a22","#c80a22","#c60923","#c50823","#c40823","#c20723","#c10723","#bf0624","#be0624","#bc0524","#bb0524","#b90424","#b80424","#b60425","#b50325","#b30325","#b10325","#b00225","#ae0225","#ac0225","#ab0225","#a90125","#a70126","#a50126","#a40126","#a20126","#a00126","#9e0126","#9c0026","#9a0026","#990026","#970026","#950026","#930026","#910026","#8f0026","#8d0026","#8b0026","#8a0026","#880026","#860026","#840026","#820026","#800026"],HEATMAP_NUMBERS=Array.from(Array(100).keys()),HEATMAP_DATA=[];for(const x of HEATMAP_NUMBERS)for(const y of HEATMAP_NUMBERS)HEATMAP_DATA.push({value:Math.round(100*Math.random()),x,y});const HEATMAP_ENCODE={x:"x",y:"y"},HEATMAP_ITEM_STYLE={borderColor:"white",borderType:"solid",borderWidth:1,color:({data:{value}})=>HEATMAP_COLORS[Math.round(value/100*(HEATMAP_COLORS.length-1))],opacity:1},HEATMAP_TOOLTIP_OPTIONS=[{show:!1},{enterable:!0,formatter:function(param){return param.data?[`X-Axis: <strong>${param.data.x}</strong><br/>`,`Y-Axis: <strong>${param.data.y}</strong><br/><br/>`,`${param.marker} <strong>${param.data.value}</strong>`].join(""):[]},show:!0}],HEATMAP_AXIS_POINTER_OPTIONS=[{show:!1,type:"none"},{show:!0,triggerOn:"mousemove",type:"none"},{show:!0,triggerOn:"click",type:"none"}];var react_redux=__webpack_require__("./node_modules/react-redux/dist/react-redux.mjs"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");const SELECTED_STYLE_fontFamily="sans-serif",SELECTED_STYLE_fontSize=12,SELECTED_STYLE_fontWeight="bold",CTX="undefined"!=typeof document&&document.createElement("canvas").getContext("2d")||null;function formatLabel(name,maxWidth,font){if(!CTX)return{length:0,text:name};CTX.font=font;const ellipsisWidth=CTX.measureText("...").width,fullWidth=CTX.measureText(name).width;if(fullWidth<=maxWidth)return{length:fullWidth,text:name};const labelHalfWidth=(maxWidth-ellipsisWidth)/2,formattedLabel=getFixedWidth(name,labelHalfWidth,font)+" ... "+getFixedWidth(name,labelHalfWidth,font,!0);return{length:CTX.measureText(formattedLabel).width,text:formattedLabel}}function getFixedWidth(text,maxWidth,font,reverse=!1){if(!CTX)return text;if(CTX.font=font,reverse)for(let i=text.length;i>=0;i--){const substring=text.substring(i-1);if(CTX.measureText(substring).width>maxWidth)return text.substring(i)}else for(let i=0;i<text.length;i++){const substring=text.substring(0,i+1);if(CTX.measureText(substring).width>maxWidth)return text.substring(0,i)}return text}const toPascalCase=s=>s?s.replace(/(\w)(\w*)/g,((_,p,q)=>p.toUpperCase()+q.toLowerCase())):s,doNotForwardProps=["camera"],StyledContainer=(0,emotion_styled_browser_esm.A)("div",{shouldForwardProp:prop=>!doNotForwardProps.includes(prop),target:"e17ktdog0"})("padding-top:",130,"px;position:relative;"),StyledHeatmapWrapper=(0,emotion_styled_browser_esm.A)("div",{target:"e17ktdog1"})("position:relative;margin-left:",130,"px;");var react=__webpack_require__("./node_modules/react/index.js");const XAxisWrapper=(0,emotion_styled_browser_esm.A)("div",{target:"e1vu6ck60"})(xAxisWidthAndOffset,"  height:",(props=>props.height),"px;position:absolute;overflow:hidden;z-index:2;top:1px;border-bottom:solid 1px #666;"),XAxisContainer=(0,emotion_styled_browser_esm.A)("div",{target:"e1vu6ck61"})(xAxisWidth,"  height:",(props=>props.height),"px;top:0px;position:absolute;display:flex;flex-direction:row;justify-content:space-between;"),XAxisLabel=(0,emotion_styled_browser_esm.A)("div",{target:"e1vu6ck62"})((()=>`\n      height: 100%;\n      width: ${(0,react_redux.d4)((state=>state.dataReducer.heatmapCanvasSize)).width/36}px;\n      writing-mode: vertical-lr;\n      color: #555;\n      display: flex;\n      justify-content: end;\n      align-items: center;\n      padding-bottom: 25px;\n      &::before {\n        content: "";\n        position: absolute;\n        width: 1px;\n        height: 5px;\n        background-color: #666;\n        margin-left: -25px;\n        bottom: 0;\n      }\n    `)),XAxisGeneName=(0,emotion_styled_browser_esm.A)("span",{target:"e1vu6ck63"})("transform:scale(-1,-1);",selectedStyle),InfoButtonWrapper=(0,emotion_styled_browser_esm.A)("div",{target:"e1vu6ck64"})("transform:scale(1,1);cursor:pointer;display:flex;margin-bottom:4px;margin-top:4px;justify-content:center;font-size:10px;"),GeneButtonStyle=(0,emotion_styled_browser_esm.A)("div",{target:"e1vu6ck65"})((props=>`\n      border: none;\n      z-index: 2;\n      display: inline-flex;\n      justify-content: space-between;\n      white-space: nowrap;\n      flex-direction: column;\n      align-items: center;\n\n      &:hover {\n        ${activeStyle()}\n      }\n\n      ${props.active?activeStyle():null}\n    `)),HoverContainer=(0,emotion_styled_browser_esm.A)("div",{target:"e1vu6ck66"})("display:flex;flex-direction:column;opacity:0.2;position:absolute;bottom:0;z-index:3;");function xAxisWidthAndOffset({width,left}){return`\n    width: ${width}px;\n    left: ${left}px;\n  `}function xAxisWidth({width}){return`\n    width: ${width}px;\n  `}function selectedStyle({font}){return`\n    font: ${font};\n  `}function activeStyle(){return"\n    cursor: pointer;\n    #gene-hover-container {\n      visibility: visible;\n    }\n    background-color: #c3c3c340;\n    .gene-label-container {\n      color: unset;\n    }\n    .gene-label-container span {\n      font-weight: 600;\n    }\n    .x-axis-hover-container {\n      opacity: 1;\n    }\n  "}function GeneButton({active,gene,handleGeneClick}){const{name:geneName,index:geneIndex}=gene,currentFont=`\n    normal\n    ${active?SELECTED_STYLE_fontWeight:"normal"}\n    ${SELECTED_STYLE_fontSize}px ${SELECTED_STYLE_fontFamily}\n  `,formattedLabel=(0,react.useMemo)((()=>formatLabel(`${geneName}`,100,currentFont).text),[geneName,currentFont]),memoizedHandleGeneClick=(0,react.useCallback)((()=>{handleGeneClick(gene)}),[handleGeneClick,gene]);return(0,jsx_runtime.jsxs)(GeneButtonStyle,{id:`gene-label-${geneName}`,onClick:memoizedHandleGeneClick,active,children:[(0,jsx_runtime.jsx)(HoverContainer,{className:"x-axis-hover-container",id:"gene-hover-container",children:(0,jsx_runtime.jsx)(InfoButtonWrapper,{children:geneIndex})}),(0,jsx_runtime.jsx)(XAxisLabel,{className:"gene-label-container",children:(0,jsx_runtime.jsx)(XAxisGeneName,{font:currentFont,children:formattedLabel})})]})}const components_XAxisChart=(0,react.forwardRef)((({geneNames,labelClicked},ref)=>{const heatmapCanvasSize=(0,react_redux.d4)((state=>state.dataReducer.heatmapCanvasSize)),wrapperRef=(0,react.useRef)(null);(0,react.useImperativeHandle)(ref,(()=>({changeActiveLabel(label){setActiveGene(label)},getWrapperRef:()=>wrapperRef})));const[activeGene,setActiveGene]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(XAxisContainer,{className:"gene-labels",width:heatmapCanvasSize.width,height:130,ref:wrapperRef,children:geneNames.map((gene=>(0,jsx_runtime.jsx)(GeneButton,{gene,genesToDelete:[""],active:activeGene===gene.index,handleGeneClick:theGene=>{activeGene===theGene.index?setActiveGene(null):setActiveGene(theGene.index),labelClicked(theGene)}},gene.name)))})})),YAxisWrapper=(0,emotion_styled_browser_esm.A)("div",{target:"e1gni52s0"})(yAxisWidthAndOffset,"  height:",(props=>props.height),"px;position:absolute;overflow:hidden;z-index:2;left:1px;border-right:solid 1px #666;"),YAxisContainer=(0,emotion_styled_browser_esm.A)("div",{target:"e1gni52s1"})(yAxisWidth,"  left:0px;position:absolute;display:flex;flex-direction:column-reverse;justify-content:space-between;"),YAxisLabel=(0,emotion_styled_browser_esm.A)("div",{target:"e1gni52s2"})((({index})=>`\n    height: ${(0,react_redux.d4)((state=>state.dataReducer.heatmapCanvasSize)).height/20}px;\n    width: 100%;\n    color: #555;\n    display: flex;\n    justify-content: end;\n    align-items: center;\n    padding-right: ${index<100?25:index<1e3?35:40}px;\n    &::before {\n      content: "";\n      position: absolute;\n      height: 1px;\n      width: 5px;\n      background-color: #666;\n      right: 0;\n      margin-bottom: 25px;\n    }`)),YAxisGeneName=(0,emotion_styled_browser_esm.A)("span",{target:"e1gni52s3"})(style_selectedStyle),style_InfoButtonWrapper=(0,emotion_styled_browser_esm.A)("div",{target:"e1gni52s4"})("transform:scale(1,1);cursor:pointer;display:flex;margin-bottom:4px;margin-top:4px;justify-content:center;font-size:10px;"),style_GeneButtonStyle=(0,emotion_styled_browser_esm.A)("div",{target:"e1gni52s5"})((props=>`\n      border: none;\n      z-index: 2;\n      display: inline-flex;\n      justify-content: space-between;\n      white-space: nowrap;\n      flex-direction: row;\n      align-items: center;\n\n      &:hover {\n          ${style_activeStyle()}\n      }\n\n      ${props.active?style_activeStyle():null}\n    `)),style_HoverContainer=(0,emotion_styled_browser_esm.A)("div",{target:"e1gni52s6"})("display:flex;flex-direction:row;opacity:0.2;position:absolute;right:0;padding-right:8px;z-index:3;");function yAxisWidthAndOffset({width,bottom}){return`\n    width: ${width}px;\n    bottom: ${bottom}px;\n  `}function yAxisWidth({width}){return`\n    width: ${width}px;\n  `}function style_selectedStyle({font}){return`\n    font: ${font};\n  `}function style_activeStyle(){return"\n    cursor: pointer;\n    #gene-hover-container {\n      visibility: visible;\n    }\n    background-color: #c3c3c340;\n    .gene-label-container {\n      color: unset;\n    }\n    .gene-label-container span {\n      font-weight: 600;\n    }\n    .y-axis-hover-container {\n      opacity: 1;\n    }\n  "}function YAxisChart_GeneButton({active,gene,handleGeneClick}){const{name:geneName,index:geneIndex}=gene,currentFont=`\n      normal\n      ${active?SELECTED_STYLE_fontWeight:"normal"}\n      ${SELECTED_STYLE_fontSize}px ${SELECTED_STYLE_fontFamily}\n    `,formattedLabel=(0,react.useMemo)((()=>formatLabel(`${geneName}`,90,currentFont).text),[geneName,currentFont]),memoizedHandleGeneClick=(0,react.useCallback)((()=>{handleGeneClick(gene)}),[handleGeneClick,gene]);return(0,jsx_runtime.jsxs)(style_GeneButtonStyle,{id:`gene-label-${geneName}`,onClick:memoizedHandleGeneClick,active,children:[(0,jsx_runtime.jsx)(style_HoverContainer,{className:"y-axis-hover-container",id:"gene-hover-container",children:(0,jsx_runtime.jsx)(style_InfoButtonWrapper,{children:geneIndex})}),(0,jsx_runtime.jsx)(YAxisLabel,{className:"gene-label-container",index:geneIndex,children:(0,jsx_runtime.jsx)(YAxisGeneName,{font:currentFont,children:formattedLabel})})]})}const YAxisChart=(0,react.forwardRef)((({geneNames,labelClicked,reverse=!1},ref)=>{const finalGeneNames=reverse?[...geneNames].reverse():geneNames,heatmapCanvasSize=(0,react_redux.d4)((state=>state.dataReducer.heatmapCanvasSize)),wrapperRef=(0,react.useRef)(null);(0,react.useImperativeHandle)(ref,(()=>({changeActiveLabel(label){setActiveGene(label)},getWrapperRef:()=>wrapperRef})));const[activeGene,setActiveGene]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(YAxisContainer,{className:"gene-labels",width:130,height:heatmapCanvasSize.width,ref:wrapperRef,children:finalGeneNames.map((gene=>(0,jsx_runtime.jsx)(YAxisChart_GeneButton,{gene,genesToDelete:[""],active:activeGene===gene.index,handleGeneClick:theGene=>{activeGene===theGene.index?setActiveGene(null):setActiveGene(theGene.index),labelClicked(theGene)}},gene.name)))})})),components_YAxisChart=(0,react.memo)(YAxisChart),Genes=["IGKV1D-8","EWSR1","RBM34","ATP5L","PDPR","KMT5A","SLC26A3","NABP1","CSF1","AKR1A1","C4orf22","SV2C","REEP4","VSTM4","STRN","NXN","NRIP3","SYBU","ASB16","MTUS2-AS1","SH3TC1","THUMPD3-AS1","PILRB","GNAT3","H3F3B","H2AFV","GET4","ERRFI1","DHRS12","STX7","TECR","MAK16","GRK1","BPIFB2","GAS7","DONSON","CD70","CYP4F22","GSG2","LSM12","SYT6","ZBTB24","FAM181A","DLG2-AS1","NDUFB1","HLCS-IT1","ZNF32-AS3","TMEM110","ATRN","IPO5","LINC01272","DPH5","OR1J4","RHOU","POTEH","ZNF266","TSKU","CCT8L2","LGI4","H1FX","NPTN-IT1","SLC1A4","OXNAD1","ST6GALNAC1","CLDND2","PTH1R","PUM2","RUNX1T1","C8orf34","SMPD5","BRE","CDC123","DEFB106A","SCARB1","SPRY1","OR4C6","CLDN10-AS1","UBA5","OR7G3","SRMS","KRT73-AS1","SLC28A3","PEG10","HIST1H4G","CHST10","BAIAP2L1","LINC01525","GSG1L2","ITLN2","NUDT7","PIAS4","FIGNL1","SLC22A14","PKD3","USP43","TADA1","FASTK","ORC1","LINC00574","SPDYE11","GINS1","MAFA","TRK-TTT14-1","TRAJ44","TAPBPL","CLIP2","POLE2","TNNI3K","SERPINB7","PCGF5","ZNF292","C20orf144","GPR135","KDM5A","C11orf45","MUC3A","IGLJ5","GSE1","ATG16L1","NFS1","CDCP2","HSPH1","SYT8","CDKN2B-AS1","ZNF492","ABCC5-AS1","ITGA5","HOXC4","VRK1","MSH4","KHDRBS3","SACM1L","PHPT1","EVI2B","MAPK14","SNORD172","FAM107B","RNU5E-1","FZD8","COX6A1","IGF2BP2-AS1","VDAC1","RAP2B","PRB3","DOCK4-AS1","ETV4","SPPL3","RNA28S3","OR52E5","CDC42SE1","SH2D4B","PTPRM","NARS2","ZNF660","ZNF792","POTEF","DUXA","LINC00331","NR1I3","DAG1","UST","ZNF571","VPS13A","FOS","RANBP10","ABHD15","GABRG3-AS1","OCA2","TBL1Y","TRA-AGC18-2","MUC8","ZNF80","NLRP1","MYO1D","MLC1","RASAL3","NEU3","TRIB3","ELOVL2","CDC27","SET","GRHL2","CCK","HMCN1","CDKAL1","PHLDB3","PLPP1","ANKRD20A4","ARMC5","HVCN1","TBCE","TARID","NCLN","RTN4","SLIT1-AS1","TRSUP-TTA3-1","TRE-TTC1-2","TAL1","BTN3A1","TMUB2","PACRG-AS2","DAZAP1","DCAF12","DUXB","WWTR1","OR4K5","HRNR","PROB1","IGHD1-7","RORA-AS1","DNM3","LRRC52","OPTN","RYBP","ANKRD55","CD40","MHRT","CFHR4","LINC01059","NIN","FAM224B","LHX2","GUCA2B","WDR25","IGKJ1","TRR-TCT5-1","GACAT3","WASH1","DNASE1","MAN2B2","OXGR1","ZNF396","NUP98","PSMB1","BBS7","RPL14","ACSM2A","MFSD13A","OR52N2","IGLL5","SOX15","FABP3","KIAA1211L","TRP-AGG6-1","LINC01220","BBS5","ZNF708","CACNA2D3-AS1","GAP43","ZBTB18","BABAM1","KCND3-IT1","TRI-AAT7-2","RAD21L1","ASPG","DISP1","SP140L","HCAR2","RTL1","HR","HIST2H2BF","COBL","TRBJ1-3","MCM6","SLC25A6","DBX1","THEMIS2","FFAR4","RPL7","PCDHB7","TRC-GCA2-2","CEP128","ST7-OT3","ARHGAP27","KRTAP19-3","CASC10","FLII","PGAP2","SNORD1C","GRHL3","VPS36","TRK-TTT16-1","RBFOX3","CADM1","NPR2","TRE-TTC2-1","ZFPM2-AS1","HNRNPA2B1","PSG5","SPG23","PAG1","LINC00324","USP4","OR52W1","BCL2L10","RNA5S13","CCL2","TRAJ25","MIS18A-AS1","CALCB","CNOT6","ARFGEF2","SOX12","NR5A1","LTBR","TTC19","CCDC158","SIN3A","TRA-AGC12-2","LINC00987","OCIAD2","ABCF3","KIR2DL5A","ADH1C","ORC2","CTSD","GHITM","SCG5","UQCRC2","TRL-AAG7-1","WAC-AS1","MON1B","LARP1B","CSE1L-AS1","OIP5-AS1","CCDC14","LINC00957","LINC01392","COCH","MGAM2","CISH","UGT3A2","MYO5A","CYFIP2","LINC00856","TRT-AGT3-1","SLC39A6","CH25H","TBC1D1","ZNF716","SNORD14D","KIFAP3","SDCBP2","G3BP2","EDIL3","KCNB2","PIK3R2","GALNT15","KLHL5","PLEKHA1","TTTY10","VAMP8","ITIH3","DPH7","FOXO1","IQCF5-AS1","ZDHHC17","MINA","ABHD13","PIGS","CDRT3","STK38L","M6PR","LINC00888","UBAC1","RANGAP1","C10orf111","MATK","CD52","TBC1D29","SQLE","OLIG3","FRA14B","RGS11","CHST6","LINC00476","ARHGEF18","C14orf93","ATOH1","CTDSPL","FAM179B","NAT8L","SLC15A2","ANKRD45","DFNA58","PDS5B","MAST2","EXT1","SBNO2","SNORD130","ZNF727","ERVK-24","MFSD6L","DGAT1","BACE2-IT1","SCHLAP1","LINC01543","LINC01007","GUCY1B3","SLC9A4","FOXB2","RBPMS","NAV3","TERT","RNPEP","OR2D3","OLFML2A","OSCP1","PRNT","POMGNT1","DCST1","TTTY23B","OMA1","OOEP","LINC01143","GNGT1","STAU1","ADCY10","TMPRSS9","PRL","LINC00514","CHED1","FHOD3","TDRP","ARF6","PLBD1-AS1","SFTPA2","FAM124B","PRSS35","SLC22A17","GLI3","THRA","LTB4R2","IGHD4-17","VASP","HLA-DQB-1","AS1","NOD1","DNAJB2","KLF4","GRIK1-AS2","C1QTNF4","TESK2","AUNIP","SUPV3L1","CORO2B","FAM173A","RBBP9","IL17B","OTUD7B","IGH","RDX","TRA-AGC13-2","JPD","NR6A1","TK1","KLKB1","LINC00664","IKZF2","NUFIP2","USP28","OR14C36","NICN1","ADAM23","MPHOSPH8","CCDC25","CCDC92","SCN5A","CASP14","SPA17","FGF8","CD1D","GRIP1","POMT2","UBE2D4","IRAIN","MLNR","TNIP1","RNY5","RNF180","DHX57","TBRG4","TRAT1","SNORD116-24","C14orf2","KLF18","IGLV3-32","MAPK1","OR52E4","POLR2J3","TRL-AAG1-1","ITSN1","TSSK4","PADI4","SNHG18","TRL-CAA2-1","TRGV11","MXI1","FRA11I","SOBP","ADRB3","SPATA32","ZNF616","SEMA3D","PRKAR2A-AS1","SIRT6","HOXB6","ZBTB3","PRSS50","DEAF1","ZBTB40-IT1","SNAPC5","HNRNPH3","DCAKD","RAMP3","PPP1R3G","TRS-AGA4-1","SLC18A1","AKR1E2","ATP13A4","REXO4","GBE1","SLC2A5","TRN-GTT4-1","ZNF268","ANXA11","TMEM123","WDR45B","HTR3E","SNORA3A","HEATR4","SNORD83A","RBP3","KNCN","RHO","RGPD6","PRELP","KIAA1024L","FRA6B","ANKRD37","KLK3","HOXC-AS1","MMS19","ERLIN2","SNAR-B1","DOCK2","GPATCH1","NCKIPSD","TBC1D3K","ZNF559-ZNF177","TAS2R5","DNAJC9-AS1","SH2D3C","LARS2","GIMAP6","KIR2DS2","COL12A1","HNRNPUL2-BSCL2","DDX24","DLL4","SLC26A4","SNORA92","GLC3C","TRIM52","IGKV1-17","SLC8B1","RNA18S2","TRM-CAT4-1","IGLV5-37","COL18A1-AS2","SLC6A1-AS1","RPS6KA1","WDR87","TRAJ57","RAB37","ATL1","BSPRY","ACAP2-IT1","RIBC2","LRRN2","LINC01620","USP53","IGF2BP2","GRM8","IGHV4-30-1","ANKRD46","ADGRL3","CBWD3","C19orf43","RBM43","SYCE1","FBN3","HOXA10-AS","OR5I1","ITGA10","IGSF5","SNORA2B","SRSF9","FSCN1","LRRC49","SNORD116-29","DEPDC1B","ZBTB20-AS4","YDJC","TRF-GAA4-1","SPDYE2B","GRM6","LMNA","SNORD113-2","SLC25A19","ANKRD20A3","KCNC2","NAV2-AS2","LINC00622","KIAA1551","PKD2L1","EPC2","EPHX4","ULBP3","CACNA1I","FAM214A","C4orf47","ZNF101","S100A8","C1orf204","MTRNR2L13","SNX18","ATHL1","TMEM147-AS1","APC","TOMM34","PRKRA","ATG5","SDHB","MPPE1","SPDYE1","TRP-AGG1-1","CDKN2C","SPATA31D3","NDUFB6","PRM3","CDC42EP3","C1RL","OR2A14","ALOX15","PAXIP1-AS1","ARHGEF12","GK2","SLX1A-SULT1A3","ACTRT2","FAM102B","SIGLEC9","KIR3DL3","NR1H3","MRT24","EDEM1","CHPF2","OR2H2","LINC00298","MEF2C-AS1","TRIM74","LINC01359","TRV-CAC1-4","SH2B1","STAC","MAP6","PRSS57","DACT1","ZNF728","MED7","DNAH8","C12orf40","CA4","PPP4C","HCN4","KIF25","DNAAF5","PDRG1","XPA","SRA1","C1QTNF8","MIAT","RXRB","GALNT8","PRR5-ARHGAP8","MRPL20","MEP1B","RNU11","EVL","FZD1","SECISBP2L","WASF3-AS1","LCE3A","SOX30","TRGJP2","SPINT1","LRCOL1","MRPS21","KCNT2","CYB5R3","ALKBH5","DPP9","LMAN2L","PTK2B","PAX6","ANKMY1","TRAV4","SECTM1","C5orf28","CDRT5","FAM117B","DEFB103B","TTBK2","ZNF607","TRAPPC6A","LRRK2","PFKFB3","NSUN4","IGHV3-30-5","FRMPD2","RAG1","SORCS1","DNAH14","ZNF3","TSPAN15","C16orf13","FEN1","LINC01271","LMAN1","ODAM","CEP57","FN3K","MED22","EXT3","ANGEL1","OR8D4","RNF19A","ARHGDIG","TMEM64","B2M","ERVW-7","RTP5","UAP1","PGLYRP4","RPS6KA2-AS1","UFC1","TPRN","TTF2","ARNTL2","KRTAP9-2","C1orf50","CHAF1A","TRAJ48","C1orf233","PPP1R3E","LINC00583","ZNF439","DDX42","RCN1","LUC7L2","ZNF506","CFAP20","TUBA8","DNAJB11","DCAF4L1","DNAJB1","LINC00936","CAPRIN2","OR2G3","ANKS4B","SFXN4","NDUFS1","TNFRSF12A","PALLD","ZNF541","PKHD1","SCARNA8","TNS4","WHCR","GINGF2","EGFL8","MRC2","MKS1","CCP110","NBPF4","POM121L2","ZNF536","GPX7","ADPRH","CREB3L2","IBSP","BCLAF1","RFFL","ETV2","NOTCH2","JUN","GGNBP2","SAXO2","KLHDC7B","VPREB1","HRK","HAUS2","TMEM206","TRK-CTT2-3","FITM2","CXCL5","IQGAP1","LINC00683","MED17","ZRANB3","PIRC76","CD33","GABRG2","PRPH","CKAP4","POLR3F","FAM169B","MFAP3","FAM227A","CBFA2T2","IMPDH1","PRR33","PSORS1C1","MTCH1","USP8","CREB3L4","SNX27","TMEM212-AS1","STEAP1B","EDN2","KPNB1","KLF17","KLHL11","TEKT2","CALCOCO1","ZNF552","BTNL3","TMEM55A","RAP1GDS1","PRDM12","HOXB-AS1","PTRF","SENP5","ITFG1","PCDHGA9","ABHD3","CHKB","RCN2","PAQR9","CCDC114","IGHV1-8","OR2V2","BIRC8","SCASI","SYNE1-AS1","REC8","ZDHHC1","PARPBP","TNXB","C10orf128","C15orf65","SLC17A6","EVX1","TM9SF2","MYLK-AS1","RLBP1","OAP","ELN","PRELID3B","ADGRL4","RAPGEFL1","LINC00463","RALGAPA1","ZNF517","FANCA","GIMAP5","THAP7-AS1","TTC24","NADSYN1","WASIR1","PIRC36","PFKFB4","HSBP1","EHD2","USE1","DSG1-AS1","ZNF76","OR1F1","C8orf48","YY1AP1","DNAH3","VMP1","RHCE","ZNF485","UBE2D3","FDCSP","IL11RA","PLA2G12A","SMOC1","TPRKB","ACP1","KIAA1549L","IGKV1OR2-0","SUFU","LPAR2","RAPGEF4-AS1","DIRAS1","JUP","LINC01228","LINC00836","PHACTR2-AS1","COX5A","ABHD11-AS1","HTR3B","CRB3","SEMA3F","REG3A","KRTAP4-5","ARF3","TRQ-CTG2-1","PRSS56","C2CD4A","RASSF8-AS1","ARL8B","FRG2C","LINC00618","NCAPG2","PRSS44","TAX1BP1","CHST13","RFT1","FOXC2","RUNDC3A","MPZL3","FAM215B","PHB","TRBV5-7","ETV3L","CCDC127","LINC01477","KCNQ3","TRG","LINC00111","NTN1","TMPRSS7","HMSD","CHORDC1","SUSD5","ENGASE","CLDN22","SNORA71C","OTUD6B-AS1","DENR","OR2A5","FUT7","CPEB4","IGLV3-25","IRX1","AJAP1","GOLGB1","ZNF367","ZNF789","REXO1","LHPP","PAN3-AS1","DDTL","NETO2","IL6R","SPRYD4","TRL-AAG1-2","PMPCA","LINC00515","LGALS12","LMO2","ANXA4","MAP3K8","DMBT1","PCDHGA5","VTRNA1-2","POMK","ANKRD30A","NYS4","PRR23D1","TRUB2","SLC22A1","TRK-TTT1-1","TRC-GCA12-1","TRIM11","LINC00866","NR4A1","DDX59","HIPK4","SEC22C","FRMPD1","KRTAP10-10","CD28","PRDM14","IGHV5-10-1","IGHV4-30-2","HMX3","RNF114","DFNA7","ZCCHC23","GABRG3","CGB3","C3orf35","ENTPD2","CDCA7","SMIM24","ERGIC3","MEIOC","TLL1","MTMR10","UBE2C","OR5K3","SEMA4D","RFPL4B","SCX","C5orf66-AS1","MGP","TERF2IP","CRISP2","MAPRE3","RBM15B","ADGRG7","KLF15","TIGAR","ILVBL","ARHGEF39","FAU","TRC-GCA9-1","IL22RA1","ST7","VASH2","COL1A1","NBR2","LINC01554","YAM1","CD244","SCP2","SERPINB9","SCGB1C2","IMP3","NYS3","C8orf34-AS1","LINC00261","RPL27A","TBC1D9B","CDCA8","LINC00535","ATG12","ATP6V1G3","SNORA87","TULP2","FIBP","PCNA-AS1","FUZ","LINC01205","ABCA9","SEN6B","PTPN14","SNORD15A","ZBTB40","LINC01189","HS1BP3","DHCR24","SNUPN","TRV-TAC3-1","AGGF1","SPOCK2","CSNK2B","GRIK5","C19orf70","OR2A7","SNORA2C","DSCAS","KLK5","KCNE3","CD320","SENP7","GATA5","HLA-DOA","TMEM39A","CEP170B","TBC1D10B","LAD1","TTC17","CLEC4C","NRBF2","FRA2B","IL2RB","MDN1","C1orf145","ST3GAL6-AS1","ATP6V1E2","OXCT1","SSSCA1","METTL3","E2F3","HOXC11","TSLP","LINC01593","B3GNT2","HSD11B1L","LRRC30","TMC8","PAX1","TSPAN5","LINC01063","FRA8B","HIVEP3","AFF4","HPS1","LINC01497","MSK9","ADAMTSL1","NEUROD6","DSC1","SMIM6","EPC1","RPLP1","SLC27A2","CD1A","DNAJC25","SMARCAD1","GFOD2","ENTHD2","KISS1","LRRC74B","FLG-AS1","SNORD115-14","LSM5","TRBV17","LDLRAD4-AS1","C9orf106","CARMN","TRAV12-1","ZSWIM8","WDR20","VRTN","SARNP","MAMDC4","PPME1","C1orf95","SLC26A8","IGKV1-27","KHNYN","FRA10AC1","C11orf53","HDAC2","EREG","CUZD1","KRTAP6-3","TSSK3","VPS45","ZMYND11","RN7SL1","XCR1","USP12-AS1","LINC00661","ZFY","LINC01529","PRR20D","OR6N1","KMT5C","KL","CCAR1","SNORD116-22","ISCU","POLE","SCOC-AS1","SMAD5-AS1","FBXL18","CEP68","TRH","CLTB","CRK","PBX4","SNORD15B","KRTAP5-AS1","ZNF790-AS1","CELF6","NFKBIL1","RNF157-AS1","HN1","VPS4B","SNORA63","CHTF18","DDC","TRK-CTT5-1","TSR1","HCG9","LCE3C","TRQ-TTG3-1","ZNF853","RNF40","ACTR3","KDM7A","SNORD116-19","LINC00370","GNAS","ANKRD24","SNAR-C2","ERVFH21-1","SMAD1","COQ10A","LNX1","SLC12A2","PRAMEF15","CAMKV","CASS4","KRTAP9-9","IGLV2-23","TRL-CAA1-1","LINC01096","USP30-AS1","SPCS1","HINFP","FBLIM1","RASL11A","ZNF26","TBC1D30","NMTRQ-CTG1-1","NKX6-1","C20orf195","RFC5","UQCC3","PCDHA1","PDCD2","C3orf67-AS1","KRTAP20-4","INSIG2","SNORD116-8","MINCR","KMT2E-AS1","GIMAP2","CBX4","OR2T35","CARD11","FEB6","IFNAR1","RPRML","NRDE2","MARCH9","TNPO1","CTSK","CREBRF","LOH12CR2","TNFRSF14","TSPAN3","HOXB13","CSF3","EXOSC4","OR4K15","PCYOX1L","ZNF781","TRV-CAC7-1","PIRC83","ZIC2","FASTKD2","CCDC39","MROH9","GAS2L2","TMEM119","LINC01486","FNDC9","SLC2A3","KRT3","TRA-TGC9-1","CHRNA7","CCDC189","TSHZ1","TDP2","VWA5B1","ST3GAL2","NFKB1","DUSP13","CSRNP1","PIRC90","RNR2","PEF1","ATP8B1","FGFR4","WNT3","CTRB1","HLA-A","PIRC17","SSH3","CFAP43","LINC01077","SSX2IP","NMTRP-TGG1-1","SNORD113-4","MYO15B","SWAP70","EMC1","COA4","ASNA1","WDR63","AIP","PHACTR4","PGAM1","DENND6A-AS1","CST9L","HTRA3","SRSF1","ZNF335","ZSCAN16","PDB6","ASB18","FAM43A","PIRC108","LINC00371","SHISA9","CDKN2A-AS1","LINC01521","FGF14-IT1","ALDH1L1-AS2","GNPAT","SLC17A5","ACBD4","MLEC","LINC00566","DFNB51","FADD","WFDC8","NDST4","TEX261","EBF2","AEBP2","ZNF14","ZBED5","IGHD1OR15-1B","LINC00280","GABARAPL1","CCBE1","KIR2DL5B","UGT2A3","DPH3","FTL","C6orf1","PF4","CACFD1","OPN3","PHLPP1","TAF8","PKN2","IL17D","PPP1R21","CTNNA3","PIRC40","ABCA8","LRP8","LPAR3","ACOX1","ELOVL2-AS1","THRB-AS1","LINC00844","EVC2","TRF-GAA6-1","ZBTB8A","OCM2","HSPB11","FAM171B","AGPAT3","CENPB","MBD3L4","COL27A1","RNFT2","SNORD115-31","ARHGAP25","UNC5B-AS1","VKORC1","PSMF1","LINC00334","NLRX1","LUCAT1","PIRC20","SMPD3","ACPT","LINC00597","DNAJC3-AS1","CCT6B","SGTB","PKD2","TRIP4","PHB2","POLR2A","PEAR1","NAV2-AS5","RASAL1","KIAA2013","DPP9-AS1","PTTG2","LCMT1-AS1","QRFP","EDDM3A","IGHV3-38","UNC50","UCN2","PLOD2","LINC00967","IKZF3","DSCC1","OR1N2","CCDC137","ZNF134","MPLKIP","TNRC6C-AS1","KCNJ6","PIK3C2G","SLC43A3","ATN1","SNORD115-16","TTTY17C","SHC1","CLEC4M","ADCYAP1","NMTRV-TAC1-1","LINC01570","SOCS7","LINC01144","SMARCA5","NOP9","TMEM8A","CCDC6","LRRC2","SLC9C2","RCC2","DNAL4","ARL6IP4","CFAP44","NRG1","ZNF565","GJD4","BORA","ZNF416","PRAMEF6","CDK5","RGPD1","DNAJC7","MRPL3","FAM89A","EGFR","MYBPH","SOX21-AS1","LINC01498","OAS2","AQP11","FAM118B","LINC01159","GPR19","AHSA1","C20orf85","IGLV2-33","LINC01451","DNAJC30","LCMT1","HOXC10","GDAP1","LINC01088","DHH","IGHJ3","FREM2","ZNF793","BOLA3","WRN","MRFAP1","RCL1","TNNT2","LRRC37A3","ST3GAL1","SPRED2","RHOF","AKAP8L","PIRC69","SNORA15","USH2A","STMND1","GATA3-AS1","KIF1B","MUC15","ZNF202","TMEM211","NT5C3A","ARPC5L","TBCC","RAE1","INTS8","ENOX1","EIF3J-AS1","IGKV3-15","TMEM200B","ADGRA3","MYCNUT","KCNK13","PPIF","MTRNR2L4","MRPS35","LINC00294","HOXD8","GPBP1","MUC21","DEPTOR","LRRK1","FAM83G","PIK3R5","C6orf183","RARS2","GLIS3","RINL","DLEU1-AS1","ZNF582-AS1","ZNF879","DSCAM-IT1","TMCO6","AQP4-AS1","LYRM2","MKNK1","ATG9A","SYDE1","TRP-AGG2-8","ETM2","SLC8A1","ATF6","GVQW1","TRK-TTT7-1","COL8A1","POU6F2-AS2","SKIV2L2","IGHV3-38-3","C6orf52","RNVU1-7","UBIAD1","PIRC57","TRAJ27","SPACA6","CNIH3","TUSC8","FAM210A","CXCL9","MCC","NCS1","ZNF420","PRR34-AS1","TRH-GTG1-6","IFITM10","STAM-AS1","PDE7B","LINC00221","COL5A2","PGAP3","ENO2","FABP5","H2AFY2","KDELR3","TXN","GPR32","ACSF2","PATE4","LINC00667","METTL17","ZDHHC23","SRSF5","ZNF615","NPPB","PCSK9","TMEM160","NDUFA11","PTPRG-AS1","BMP8A","GLYATL3","UNG","NPIPB4","MFAP3L","DEPDC7","RBP4","FRA2G","ATXN7L3B","MLKL","RADIL","PRC1","MNX1-AS2","SNORD90","FAM124A","OR7A10","AIS2","PKD1L1","GAMT","ARNT","ULBP1","SNORD32B","ANAPC13","CENPM","MACC1-AS1","MCIDAS","GPX8","SNAR-C3","ICAM3","ST6GAL2-IT1","MLH3","KLK6","NCOA7","FGF12","P2RY11","IPMK","LMX1A","TMEM238","HLTF-AS1","MAPK13","NECTIN1","SDC3","EGFLAM-AS2","ZNF790","NPAS2","SFN","DMAP1","STRA13","MRPL48","SUSD4","CTSL","WDR43","C5AR2","SLC34A3","SNORD115-30","TSACC","SLC52A2","C1orf134","ARF4-AS1","TMEM17","PTPRO","PDGFD","ABCA12","MFRP","SNORA73A","UBXN7-AS1","TTBK1","FGB","MEX3C","ANAPC11","SPATA17","PLEKHB2","CCDC33","GPR39","LINC01512","UQCRC1","HAS2-AS1","PPP1CA","ZBTB43","ZNF770","FBXO38","FAM72A","PPP1R32","GEMIN2","UPP2","MSH5-SAPCD1","ZNF575","NUP50-AS1","ZBED4","KCNMB4","POLR2C","LINC01609","ARHGEF1","OR10K1","GLMN","CRX","WASF2","LINC01002","RTCA-AS1","ZNF320","KIF24","PRSS37","ITPR1","C9orf43","PLCE1-AS1","TRD-GTC6-1","HMGA2","FRA1H","MYD88","PAH","CENPH","DENND2C","MPE","PIRC51","SERPINB3","IGKV1D-33","PIRC45","RNF144A","TXN2","CBR3-AS1","LRRC3C","OTOS","DMPK","SPINK13","HIST1H4C","KIF26A","SRP14","FRA16A","DFNA32","COL18A1","MUSTN1","CSHL1","TP53AIP1","PTGER3","SNORD145","FBXO24","ECT2L","TMEM256-PLSCR3","GUK2","C5orf22","CDRT15","IGSF22","LINC00643","CORD4","LINC01350","HNRNPLL","KIR2DL4","FNIP2","PLEKHA5","SCAI","SUMF1","UCA1","CCDC146","CAMTA2","RBM12","CTSH","KIF27","CSNK1E","SSSCA1-AS1","CD46","UGT2B10","LINC01455","RNU6ATAC","IL5","ARFGEF3","HEPHL1","SPATA1","PRSS42","CXCL10","SMIM12","FBXO17","TCF24","TLK2","ZNF641","PKP2","C1QTNF3","KCNQ1-AS1","PCDHA7","HLA-DQA1","PAPD5","LRFN2","ADRA1D","GLIPR2","STAB2","TRIM37","CDY1","TRAPPC6B","LAMA2","HOXA10","PRR35","LAMTOR5","ZNF18","FLYWCH1","SIGIRR","POLR2D","RNF157","APOBEC3H","ZNF408","LINC00449","PROSC","TMEM223","MESP2","TSPO","OTUB2","C1D","METTL16","RSPO3","RUVBL1","TXNDC2","DCDC5","IL18BP","CKBE","DXO","PIRC29","ERVW-20","ZNF837","TRC-GCA2-3","TAF11","HAMP","PTOS1","AMMECR1L","MRPL11","ID4","KLHDC10","KCNK7","SLC25A37","RAPGEF6","MRGPRF-AS1","LINC00333","ZSCAN16-AS1","LINC00519","C14orf132","ATP13A1","SLC31A2","RNF181","OR5B3","B4GALT5","NPIPA8","SYNPR-AS1","PIK3R6","PSG2","RGPD3","TMEM56-RWDD3","FGFBP1","MYL3","TRIM16","TMEM184A","VPS4A","DDX18","LAMA3","FAM212B","CFAP54","KIAA1328","NCDN","HSF5","GHR","NEK3","PLEKHS1","XXYLT1-AS2","OR6C76","GMEB1","NEU1","SNORA71B","LSR","IFIH1","UGT1A3","PCDH11Y","LINC00430","CPSF3L","PPP1R3B","ARHGAP31-AS1","COL15A1","SERPINH1","FAM172A","BANF1","NUP160","SNORD3D","GIMAP1-GIMAP5","GABRG1","BPI","RRS1-AS1","LINC01375","ASCL1","PRG4","BANF2","SCARA5","FAM53B","KRTAP5-1","MIER3","BCL3","TMPRSS11A","MMP26","SULT1A1","LATS2-AS1","SLC5A6","LARGE-IT1","OAT","AAED1","PALMD","ERICH6","DNAH11","GREM2","LINC00560","C4A-AS1","HAPLN3","MTX1","CDC20B","LIG1","CIB1","OR5H2","DAPK1-IT1","TNKS2","TMEM117","KDELR1","PRTG","SPAG8","THOP1","F13A1","PM20D1","TRA-AGC16-1","RAC2","LCTL","FCGR3B","HSPA9","IFT122","CADPS","EIF4ENIF1","SNORD74","SMAD9-IT1","GAL3ST3","DRAXIN","PDPN","THRSP","ALOX5AP","PDE1B","CINP","PRR5L","SLC22A18","DNAJC5G","TCF15","MRPS28","UBA6-AS1","DCAF10","ZBTB17","MFSD12","GTF3C2-AS1","POT1-AS1","FEM1B","OSM","TNFSF12","ATR","SLC6A9","DUSP12","PYDC1","SLMAP","XPO1","SNAP25-AS1","ARHGAP28","GPRC5C","RPL27","GOLGA8K","OPRM1","FAM47E-STBD1","RNA45S5","POC5","CMD1F","PYCARD-AS1","GPRC6A","ZAR1","UBQLN1","ABCB11","HOXA5","LUC7L3","SYT11","KRAS","PALB2","EGFL7","PPP2CB","MPPED2","TMED4","HDAC3","HECW1-IT1","TBC1D3G","SUDS3","ASB4","FER1L6","WDR24","C21orf91-OT1","VPS28","P2RY8","LZTS2","SERINC4","ANK1","FITM1","ATXN7L2","PTGS1","KCTD21-AS1","RC3H2","ATF4","RHNO1","ZC3H18","GIMAP8","OLFML2B","SERPINE3","CCDC60","TRK-TTT4-1","AFG3L2","ZNF518A","RHBDD2","RBP1","TARBP1","MUT","SNORD151","AAR2","OLA1","KRTAP16-1","LINC00895","THAP9","TMEM233","MMP12","IGLV3-16","ZNF764","WASF3","MAML2","MARVELD2","LINC01465","SSTR1","GP1BB","LYNX1","PHC1","TRGV4"],geneListGenerator=count=>Genes.slice(0,count).map(((gene,index)=>({index,name:gene.toUpperCase()})));var viridis=__webpack_require__("./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js"),rainbow=__webpack_require__("./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js"),Spectral=__webpack_require__("./node_modules/d3-scale-chromatic/src/diverging/Spectral.js"),YlOrRd=__webpack_require__("./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js");const AppContext=(0,react.createContext)(void 0),useAppContext=()=>{const appContext=(0,react.useContext)(AppContext);if(void 0===appContext)throw new Error("useAppContext must be inside a AppProvider");return appContext};var echarts=__webpack_require__("./node_modules/echarts/index.js"),utils=__webpack_require__("./packages/components/src/common/utils.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js");const DEFAULT_ITEM_STYLE={color:()=>"rgb(0, 0, 0)"};function mergeAxisPointer(defaultAxisPointer,axisPointer,optionsAxisPointer){const finalAxisPointer=Array.isArray(axisPointer)?axisPointer:[axisPointer,axisPointer],finalOptionsAxisPointer=Array.isArray(optionsAxisPointer)?optionsAxisPointer:[optionsAxisPointer,optionsAxisPointer];return[{...defaultAxisPointer,...finalAxisPointer[0],...finalOptionsAxisPointer?.[0]},{...defaultAxisPointer,...finalAxisPointer[1],...finalOptionsAxisPointer[1]}]}function mergeDataZoom(defaultDataZoom,dataZoom,optionsDataZoom){const finalDataZoom=Array.isArray(dataZoom)?dataZoom:[dataZoom,dataZoom],finalOptionsDataZoom=Array.isArray(optionsDataZoom)?optionsDataZoom:[optionsDataZoom,optionsDataZoom];return[{...defaultDataZoom[0],...finalDataZoom[0],...finalOptionsDataZoom?.[0]},{...defaultDataZoom[1],...finalDataZoom[1],...finalOptionsDataZoom[1]}]}function useUpdateChart({axisPointer,camera,chart,data,emphasis,xAxisData,yAxisData,width,height,encode,itemStyle,symbol,symbolSize,grid,options,onEvents}){const throttledUpdateChart=(0,react.useMemo)((()=>(0,lodash.throttle)((()=>{if(!(chart&&data&&xAxisData&&yAxisData))return;chart.resize();const chartOptions=function createChartOptions(props){const{axisPointer,camera,data,dataZoom,emphasis,encode,grid:gridProp,itemStyle=DEFAULT_ITEM_STYLE,options,symbolSize,symbol="rect"}=props,{defaultAxisPointer,defaultDataZoom,defaultEmphasis,defaultGrid,defaultXAxis,defaultYAxis}=function generateDefaultValues(props){const{camera,height,symbol,width,xAxisData,yAxisData}=props,defaultGrid={height:`${height}px`,left:0,top:0,width:`${width}px`},defaultAxisPointer={label:{show:!1},show:!1,triggerOn:"mousemove"},defaultXAxis={axisLabel:{fontSize:0,rotate:90},axisLine:{show:!1},axisTick:{show:!1},boundaryGap:!0,data:xAxisData,splitLine:{show:!1},type:"category"},defaultYAxis={axisLabel:{fontSize:0},axisLine:{show:!1},axisTick:{show:!1},boundaryGap:!0,data:yAxisData,splitLine:{show:!1}},defaultEmphasis={itemStyle:{borderColor:"circle"===symbol?"black":"white",borderType:"solid",borderWidth:"circle"===symbol?2:4,opacity:1},scale:!1},defaultCamera={height:camera&&camera.height?camera.height:20,width:camera&&camera.width?camera.width:40};return{defaultAxisPointer,defaultDataZoom:[{endValue:defaultCamera.width-1,filterMode:"filter",moveOnMouseMove:!0,moveOnMouseWheel:!1,orient:"horizontal",preventDefaultMouseMove:!0,startValue:0,throttle:0,type:"inside",xAxisIndex:0,zoomOnMouseWheel:!1},{endValue:defaultCamera.height-1,filterMode:"filter",moveOnMouseMove:!0,moveOnMouseWheel:!0,orient:"vertical",preventDefaultMouseMove:!0,startValue:0,throttle:0,type:"inside",yAxisIndex:0,zoomOnMouseWheel:!1}],defaultEmphasis,defaultGrid,defaultXAxis,defaultYAxis}}(props),customGrid="function"==typeof gridProp?gridProp(defaultGrid):gridProp,{axisPointer:optionsAxisPointer,dataZoom:optionsDataZoom,series:optionsSeries,xAxis:optionsXAxis,yAxis:optionsYAxis,...optionsRest}=options||{};return{animation:!1,axisPointer:mergeAxisPointer(defaultAxisPointer,axisPointer,optionsAxisPointer),dataZoom:camera?.active?mergeDataZoom(defaultDataZoom,dataZoom,optionsDataZoom):[],dataset:{source:data},grid:customGrid||defaultGrid,series:[Object.assign({emphasis:Object.assign(defaultEmphasis,emphasis),encode,itemStyle,legendHoverLink:!1,symbol,symbolSize},optionsSeries?Array.isArray(optionsSeries)?optionsSeries[0]:optionsSeries:[],{symbol,type:"scatter"})],xAxis:[Object.assign(defaultXAxis,optionsXAxis?Array.isArray(optionsXAxis)?optionsXAxis[0]:optionsXAxis:{})],yAxis:[Object.assign(defaultYAxis,optionsYAxis?Array.isArray(optionsYAxis)?optionsYAxis[0]:optionsYAxis:{})],...optionsRest}}({axisPointer,camera,data,emphasis,encode,grid,height,itemStyle,options,symbol,symbolSize,width,xAxisData,yAxisData});if(chart.setOption(chartOptions,{replaceMerge:["dataZoom","tooltip"]}),onEvents)for(const eventName in onEvents)Object.prototype.hasOwnProperty.call(onEvents,eventName)&&"string"==typeof eventName&&"function"==typeof onEvents[eventName]&&(chart.off(eventName),chart.on(eventName,(event=>{onEvents[eventName](event,chart)})))}),100,{trailing:!0})),[axisPointer,camera,chart,data,emphasis,xAxisData,yAxisData,width,height,encode,itemStyle,symbol,symbolSize,grid,options,onEvents]);(0,react.useEffect)((()=>()=>throttledUpdateChart.cancel()),[throttledUpdateChart]),(0,react.useEffect)((()=>{throttledUpdateChart()}),[axisPointer,camera,chart,data,emphasis,xAxisData,yAxisData,throttledUpdateChart,width,height,encode,itemStyle,symbol,symbolSize,grid,options,onEvents])}const ChartContainer=(0,emotion_styled_browser_esm.A)("div",{target:"e14r3mba0"})(getWidthAndHeight);function getWidthAndHeight({width,height}){return`\n    width: ${width}px;\n    height: ${height}px;\n  `}const HeatmapChart=(0,react.forwardRef)(((props,ref)=>{const{axisPointer,width,height,echartsRendererMode="svg",camera,onEvents,xAxisData,yAxisData,data,encode,emphasis,itemStyle,symbol,symbolSize=5,grid,options,...rest}=props;if(!width||!height)throw Error("Heatmap must have width and height bigger than Zero!");const innerRef=(0,react.useRef)(null),[chart,setChart]=(0,react.useState)(null),chartRef=(0,react.useRef)(chart),onEventsRef=(0,react.useRef)(onEvents),disposeChart=(0,react.useCallback)((()=>{chartRef.current?.dispose(),chartRef.current=null,setChart(null)}),[]),initChart=(0,react.useCallback)((()=>{const onEventsCurrent=onEventsRef.current,{current}=innerRef;if(!current||chartRef.current||"0"===current?.getAttribute("height")||"0"===current?.getAttribute("width"))return;const rawChart=(0,echarts.Ts)(current,utils.Ml,{renderer:echartsRendererMode,useDirtyRect:!0});return onEventsCurrent&&function bindEvents(instance,events){function innerBindEvent(eventName,func){"string"==typeof eventName&&"function"==typeof func&&instance.on(eventName,(param=>{func(param,instance)}))}for(const eventName in events)Object.prototype.hasOwnProperty.call(events,eventName)&&innerBindEvent(eventName,events[eventName])}(rawChart,onEventsCurrent),setChart(rawChart),chartRef.current=rawChart,()=>{if(disposeChart(),onEventsCurrent)for(const eventName in onEventsCurrent)Object.prototype.hasOwnProperty.call(onEventsCurrent,eventName)&&"string"==typeof eventName&&"function"==typeof onEventsCurrent[eventName]&&rawChart.off(eventName,onEventsCurrent[eventName])}}),[echartsRendererMode,disposeChart]);return(0,react.useEffect)((()=>{disposeChart(),initChart()}),[initChart,disposeChart]),useUpdateChart({axisPointer,camera,chart,data,emphasis,encode,grid,height,itemStyle,onEvents,options,symbol,symbolSize,width,xAxisData,yAxisData}),(0,jsx_runtime.jsx)(ChartContainer,{height,width,ref:function handleRef(element){if(innerRef.current=element,!ref)return;"function"==typeof ref?ref(element):ref.current=element},...rest})})),core_HeatmapChart=(0,react.memo)(HeatmapChart),INTERPOLATORS={Magma:viridis.uz,Plasma:viridis.pv,Rainbow:rainbow.Ay,Spectral:Spectral.A,Virdis:viridis.Ay,YlOrRd:YlOrRd.A},components_ECharts=(0,react.forwardRef)(((props,ref)=>{const{onAxisChange,onItemClicked,xAxisLabelRef,yAxisLabelRef}=props,{setChartInstance}=useAppContext(),clickedItem=(0,react.useRef)(-1),data=(0,react_redux.d4)((state=>state.dataReducer.data)),size=(0,react_redux.d4)((state=>state.dataReducer.size)),heatmapCanvasSize=(0,react_redux.d4)((state=>state.dataReducer.heatmapCanvasSize)),color=(0,react_redux.d4)((state=>state.dataReducer.color)),emphasis=(0,react_redux.d4)((state=>state.dataReducer.emphasis)),symbol=(0,react_redux.d4)((state=>state.dataReducer.symbol)),renderer=(0,react_redux.d4)((state=>state.dataReducer.renderer)),camera=(0,react_redux.d4)((state=>state.dataReducer.camera)),innerChartRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{if(onAxisChange?.(0,100,"horizontal"),onAxisChange?.(0,100,"vertical"),onItemClicked?.({value:-1,x:-1,y:-1}),innerChartRef.current){const chart=(0,echarts.FP)(innerChartRef.current);chart?.dispatchAction({seriesIndex:0,type:"downplay"})}}),[data,size,color,emphasis,symbol,camera,onAxisChange,onItemClicked]);const xAxisLabelNames=geneListGenerator(size).map((d=>d.name)),yAxisLabelNames=geneListGenerator(size).map((d=>d.name)),options={animation:!camera,grid:{bottom:0,left:0,right:0,top:0},series:[{clip:!0,emphasis:{itemStyle:{borderColor:"circle"===symbol?"#000":"#fff",borderType:"solid",borderWidth:"circle"===symbol?2:4},scale:!1},name:"SDS Heatmap"}],tooltip:camera?{enterable:!0,formatter:function(param){return param.data?[`X-Axis: <strong>${xAxisLabelNames[param.data.x]}</strong><br/>`,`Y-Axis: <strong>${yAxisLabelNames[param.data.y]}</strong><br/><br/>`,`${param.marker} <strong>${param.data.value.toFixed(6)}</strong>`].join(""):[]}}:{show:!1},xAxis:{axisLabel:{rotate:90},axisPointer:{show:!1},data:xAxisLabelNames,position:"top",show:!1,type:"category"},yAxis:{axisPointer:{show:!1},data:yAxisLabelNames,inverse:!0,show:!0,type:"category"}},shiftHeld=(0,react.useRef)(!1);function downHandler({key}){"Shift"===key&&(shiftHeld.current=!0,innerChartRef.current&&(0,echarts.FP)(innerChartRef.current)?.setOption({dataZoom:[{moveOnMouseWheel:!0},{moveOnMouseWheel:!1}]}))}function upHandler({key}){"Shift"===key&&(shiftHeld.current=!1,innerChartRef.current&&(0,echarts.FP)(innerChartRef.current)?.setOption({dataZoom:[{moveOnMouseWheel:!1},{moveOnMouseWheel:!0}]}))}return(0,react.useEffect)((()=>(window.addEventListener("keydown",downHandler),window.addEventListener("keyup",upHandler),()=>{window.removeEventListener("keydown",downHandler),window.removeEventListener("keyup",upHandler)})),[]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(core_HeatmapChart,{ref:function handleRef(element){if(innerChartRef.current=element,element){const chart=(0,echarts.FP)(element);setChartInstance?.(chart)}if(!ref)return;"function"==typeof ref?ref(element):ref.current=element},axisPointer:{show:!1},width:camera?heatmapCanvasSize.width:24*size,height:camera?heatmapCanvasSize.height:24*size,xAxisData:[...Array.from(Array(size).keys())],yAxisData:[...Array.from(Array(size).keys())],echartsRendererMode:renderer,camera:{active:camera,height:20,width:36},data,encode:{x:"x",y:"y"},symbol,symbolSize:function(symbolProps){return"circle"===symbol?24*symbolProps.value:24},itemStyle:{borderColor:"#fff",borderType:"solid",borderWidth:1,color:colorProps=>{const colorData=colorProps.data;return INTERPOLATORS[color](colorData.value)},opacity:1},options,onEvents:{click:function handleClick(params){if(innerChartRef.current){const echartInstance=(0,echarts.FP)(innerChartRef.current);if(params.event.target)if(params.dataIndex===clickedItem.current)echartInstance?.dispatchAction({seriesIndex:0,type:"downplay"}),clickedItem.current=-1,onItemClicked?.({value:-1,x:-1,y:-1});else{clickedItem.current=params.dataIndex,onItemClicked?.(params.data),echartInstance?.dispatchAction({seriesIndex:0,type:"downplay"});const seriesIndex=params.seriesIndex,{x,y}=params.data;let dataIndex=[];switch(emphasis){case"item":dataIndex=params.dataIndex;break;case"row":for(let i=0;i<size;i++)dataIndex.push(i*size+y);break;case"column":for(let i=0;i<size;i++)dataIndex.push(x*size+i);break;default:for(let i=0;i<size;i++)dataIndex.push(i*size+y,x*size+i)}echartInstance?.dispatchAction({dataIndex,seriesIndex,type:"highlight"})}}},dataZoom:function handleDataZoom(evt){if(evt.batch.length>1){const{start:xStart,end:xEnd}=evt.batch[0],{start:yStart,end:yEnd}=evt.batch[1];onAxisChange?.(yStart,yEnd,"vertical"),onAxisChange?.(xStart,xEnd,"horizontal")}else if(shiftHeld.current){const{start,end}=evt.batch[0];onAxisChange?.(start,end,"horizontal")}else{const{start,end}=evt.batch[0];onAxisChange?.(start,end,"vertical")}if(innerChartRef.current){const echartInstance=(0,echarts.FP)(innerChartRef.current);if(echartInstance&&echartInstance.dispatchAction({seriesIndex:0,type:"downplay"}),null!==xAxisLabelRef?.current&&xAxisLabelRef?.current>-1&&null!==yAxisLabelRef?.current&&yAxisLabelRef?.current>-1){echartInstance&&echartInstance.dispatchAction({seriesIndex:[0],type:"downplay"});const dataIndex=[];switch(emphasis){case"item":dataIndex.push(xAxisLabelRef?.current*size+yAxisLabelRef?.current);break;case"row":for(let i=0;i<size;i++)dataIndex.push(i*size+yAxisLabelRef?.current);break;case"column":for(let i=0;i<size;i++)dataIndex.push(xAxisLabelRef?.current*size+i);break;default:for(let i=0;i<size;i++)dataIndex.push(i*size+yAxisLabelRef?.current,xAxisLabelRef?.current*size+i)}echartInstance&&echartInstance.dispatchAction({dataIndex,seriesIndex:0,type:"highlight"})}else if(null!==yAxisLabelRef?.current&&yAxisLabelRef?.current>-1){echartInstance&&echartInstance.dispatchAction({seriesIndex:[0],type:"downplay"});const dataIndex=[];for(let i=0;i<size;i++)dataIndex.push(i*size+yAxisLabelRef?.current);echartInstance&&echartInstance.dispatchAction({dataIndex,seriesIndex:0,type:"highlight"})}else if(null!==xAxisLabelRef?.current&&xAxisLabelRef?.current>-1){echartInstance&&echartInstance.dispatchAction({seriesIndex:[0],type:"downplay"});const dataIndex=[];for(let i=0;i<size;i++)dataIndex.push(xAxisLabelRef?.current*size+i);echartInstance&&echartInstance.dispatchAction({dataIndex,seriesIndex:0,type:"highlight"})}}}}})})})),components_Heatmap=()=>{const clickedLabelX=(0,react.useRef)(-1),clickedLabelY=(0,react.useRef)(-1),XAxisChartRef=(0,react.useRef)(null),YAxisChartRef=(0,react.useRef)(null),geneNames=(0,react_redux.d4)((state=>state.dataReducer.geneNames)),size=(0,react_redux.d4)((state=>state.dataReducer.size)),emphasis=(0,react_redux.d4)((state=>state.dataReducer.emphasis)),heatmapCanvasSize=(0,react_redux.d4)((state=>state.dataReducer.heatmapCanvasSize)),camera=(0,react_redux.d4)((state=>state.dataReducer.camera)),chartRef=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)(StyledContainer,{children:[(0,jsx_runtime.jsx)(YAxisWrapper,{id:"y-axis-wrapper",height:camera?heatmapCanvasSize.height:24*size,width:130,bottom:0,children:(0,jsx_runtime.jsx)(components_YAxisChart,{reverse:!0,ref:YAxisChartRef,geneNames,labelClicked:label=>{if(clickedLabelX.current=-1,XAxisChartRef.current&&XAxisChartRef.current.changeActiveLabel(-1),chartRef.current){const echartInstance=(0,echarts.FP)(chartRef.current);if(echartInstance)if(label.index===clickedLabelY.current)echartInstance.dispatchAction({seriesIndex:0,type:"downplay"}),clickedLabelY.current=-1;else{clickedLabelY.current=label.index,echartInstance.dispatchAction({seriesIndex:[0],type:"downplay"});const echartInstanceOptions=echartInstance.getOption(),data=echartInstanceOptions.dataset[0].source,{start,end}=echartInstanceOptions.dataZoom[0]?echartInstanceOptions.dataZoom[0]:{end:100,start:0},itemSize=heatmapCanvasSize.height/36,quantizedCount=100*itemSize/(itemSize*size),xMin=start/quantizedCount,xMax=end/quantizedCount,dataIndex=data.map((({x:xData,y:yData,value},idx)=>label.index===yData&&xData>xMin-1&&xData<xMax+1&&Number.isFinite(value)?idx:null)).filter((v=>null!==v));echartInstance.dispatchAction({dataIndex,seriesIndex:0,type:"highlight"})}}}})}),(0,jsx_runtime.jsx)(XAxisWrapper,{id:"x-axis-wrapper",height:130,width:camera?heatmapCanvasSize.width:24*size,left:130,children:(0,jsx_runtime.jsx)(components_XAxisChart,{ref:XAxisChartRef,geneNames,labelClicked:label=>{if(clickedLabelY.current=-1,YAxisChartRef.current&&YAxisChartRef.current.changeActiveLabel(-1),chartRef.current){const echartInstance=(0,echarts.FP)(chartRef.current);if(echartInstance)if(label.index===clickedLabelX.current)echartInstance?.dispatchAction({seriesIndex:0,type:"downplay"}),clickedLabelX.current=-1;else{clickedLabelX.current=label.index,echartInstance?.dispatchAction({seriesIndex:[0],type:"downplay"});const chartInstanceOptions=echartInstance.getOption(),data=chartInstanceOptions.dataset[0].source,{start,end}=chartInstanceOptions.dataZoom[1]?chartInstanceOptions.dataZoom[1]:{end:100,start:0},itemSize=heatmapCanvasSize.height/20,quantizedCount=100*itemSize/(itemSize*size),yMin=start/quantizedCount,yMax=end/quantizedCount,dataIndex=data.map((({x:xData,y:yData,value},idx)=>label.index===xData&&yData>yMin-1&&yData<yMax+1&&Number.isFinite(value)?idx:null)).filter((v=>null!==v));echartInstance?.dispatchAction({dataIndex,seriesIndex:0,type:"highlight"})}}}})}),(0,jsx_runtime.jsx)(StyledHeatmapWrapper,{children:(0,jsx_runtime.jsx)(components_ECharts,{ref:chartRef,xAxisLabelRef:clickedLabelX,yAxisLabelRef:clickedLabelY,onItemClicked:item=>{XAxisChartRef.current&&YAxisChartRef.current&&(item?.x&&item?.y?("row"!==emphasis&&XAxisChartRef.current.changeActiveLabel(item?.x),"column"!==emphasis&&YAxisChartRef.current.changeActiveLabel(item?.y)):(XAxisChartRef.current.changeActiveLabel(null),YAxisChartRef.current.changeActiveLabel(null))),clickedLabelX.current=item?.x?item.x:-1,clickedLabelY.current=item?.y?item.y:-1},onAxisChange:(start,end,dir)=>{if("horizontal"===dir){const itemSize=heatmapCanvasSize.width/36,heatmapFullWidth=itemSize*size,maxToLeft=(size-36)*itemSize;let moveToLeft=Math.round(start/(100*itemSize/heatmapFullWidth))*itemSize;moveToLeft=-1*(moveToLeft<maxToLeft?moveToLeft:maxToLeft),XAxisChartRef&&XAxisChartRef.current&&XAxisChartRef.current.getWrapperRef()&&XAxisChartRef.current.getWrapperRef().current&&(XAxisChartRef.current.getWrapperRef().current.style.left=`${moveToLeft}px`)}else{const itemSize=heatmapCanvasSize.height/20,heatmapFullHeight=itemSize*size,maxToBottom=(size-20)*itemSize;let moveToBottom=Math.round(start/(100*itemSize/heatmapFullHeight))*itemSize;moveToBottom=-1*(moveToBottom<maxToBottom?moveToBottom:maxToBottom),YAxisChartRef&&YAxisChartRef.current&&YAxisChartRef.current.getWrapperRef()&&YAxisChartRef.current.getWrapperRef().current&&(YAxisChartRef.current.getWrapperRef().current.style.top=`${moveToBottom}px`)}}})})]})};var src=__webpack_require__("./packages/components/src/index.ts");const StyledControlPanelWrapper=(0,emotion_styled_browser_esm.A)("div",{target:"e1aj04g0"})("display:flex;flex-direction:column;justify-content:space-between;height:100%;"),StyledForm=(0,emotion_styled_browser_esm.A)("div",{target:"e1aj04g1"})("display:flex;flex-direction:column;justify-content:start;align-items:start;button{margin-bottom:15px;width:100%;}h5{margin-bottom:15px;font-weight:500;}");var redux_toolkit_modern=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),simplex_noise=__webpack_require__("./node_modules/simplex-noise/dist/esm/simplex-noise.js");const initialState={camera:!0,color:"Magma",data:generateData("perlin",50),emphasis:"cross",geneNames:geneListGenerator(50),heatmapCanvasSize:{height:480,width:864},renderer:"svg",size:50,symbol:"rect",type:"perlin"};function generateData(type,size){switch(type){case"sequential":return Array.from({length:size},((_,i)=>Array.from({length:size},((__,j)=>({value:(i+j)/(2*size),x:i,y:j}))))).flat();case"random":return Array.from({length:size},((_,i)=>Array.from({length:size},((__,j)=>({value:Math.random(),x:i,y:j}))))).flat();default:{const noise2D=(0,simplex_noise.fu)(),noiseSeed=Math.floor(size/20);return Array.from({length:size},((_,i)=>Array.from({length:size},((__,j)=>({value:.5*(noise2D(i/noiseSeed,j/noiseSeed)+1),x:i,y:j}))))).flat()}}}const dataSlice=(0,redux_toolkit_modern.Z0)({initialState,name:"data",reducers:{setCamera:(state,action)=>{state.camera=action.payload},setColor:(state,action)=>{state.color=action.payload},setData:(state,action)=>{state.data=action.payload},setEmphasis:(state,action)=>{state.emphasis=action.payload},setGeneNames:(state,action)=>{state.geneNames=action.payload},setHeatmapCanvasSize:(state,action)=>{state.heatmapCanvasSize=action.payload},setRenderer:(state,action)=>{state.renderer=action.payload},setSize:(state,action)=>{state.size=action.payload,state.data=generateData(state.type,action.payload),state.geneNames=geneListGenerator(action.payload)},setSymbol:(state,action)=>{state.symbol=action.payload},setType:(state,action)=>{state.type=action.payload,state.data=generateData(action.payload,state.size)}}}),{setData,setSize,setType,setCamera,setColor,setSymbol,setRenderer,setEmphasis,setGeneNames,setHeatmapCanvasSize}=dataSlice.actions,dataReducer=dataSlice.reducer,OPTIONS=[{name:"Spectral",section:"Categorical",value:"Spectral"},{name:"Rainbow",section:"Categorical",value:"Rainbow"},{name:"Virdis",section:"Categorical",value:"Virdis"},{name:"Plasma",section:"Categorical",value:"Plasma"},{name:"Magma",section:"Sequential",value:"Magma"},{name:"YlOrRd",section:"Sequential",value:"YlOrRd"}],SIZES=[{details:"50 x 50",name:"2,500",value:50},{details:"100 x 100",name:"10,000",value:100},{details:"250 x 250",name:"62,500",value:250},{details:"500 x 500",name:"250,000",value:500},{details:"750 x 750",name:"562,500",value:750},{details:"1000 x 1000",name:"1,000,000",value:1e3},{details:"1250 x 1250",name:"1,562,500",value:1250},{details:"1500 x 1500",name:"2,250,000",value:1500},{details:"1650 x 1650",name:"2,722,500",value:1650}],TYPES=[{details:"Applies gradient-like colors for a smooth transition.",name:"Sequential",value:"sequential"},{details:"Utilizes randomized colors for a diverse visual representation.",name:"Random",value:"random"},{details:"Incorporates Perlin noise for a structured yet natural appearance.",name:"Perlin",value:"perlin"}],SYMBOLS=[{details:"Represents data points as circular shapes with varying sizes and colors based on their values.",name:"Circle",value:"circle"},{details:"Represents data points as rectangular shapes with different colors based on their values.",name:"Rect",value:"rect"},{details:"Represents data points as rounded-edged rectangular shapes with different colors based on their values.",name:"RoundRect",value:"roundRect"}],EMPHASIS=[{details:"Highlights only the specific item.",name:"Item",value:"item"},{details:"Highlights the entire row containing the item.",name:"Row",value:"row"},{details:"Highlights the entire column containing the item.",name:"Column",value:"column"},{details:"Highlights both the row and column containing the item.",name:"Cross",value:"cross"}],CAMERA_EFFECT=[{details:"Renders only the visible part of the heatmap, rendering the rest upon scrolling. Recommended for large heatmaps to optimize performance.",name:"On",value:!0},{details:"Renders the entire heatmap on the screen. Suitable for smaller heatmaps where the camera effect can be disabled for better display.",name:"Off",value:!1}],RENDERER=[{details:"Renders the heatmap in SVG format.",name:"svg",value:"svg"},{details:"Renders the heatmap using HTML canvas.",name:"canvas",value:"canvas"}],components_ControlPanel=()=>{const dispatch=(0,react_redux.wA)(),size=(0,react_redux.d4)((state=>state.dataReducer.size)),color=(0,react_redux.d4)((state=>state.dataReducer.color)),type=(0,react_redux.d4)((state=>state.dataReducer.type)),renderer=(0,react_redux.d4)((state=>state.dataReducer.renderer)),camera=(0,react_redux.d4)((state=>state.dataReducer.camera)),symbol=(0,react_redux.d4)((state=>state.dataReducer.symbol)),emphasis=(0,react_redux.d4)((state=>state.dataReducer.emphasis));return(0,jsx_runtime.jsxs)(StyledControlPanelWrapper,{children:[(0,jsx_runtime.jsxs)(StyledForm,{children:[(0,jsx_runtime.jsx)(src.msM,{label:color,options:OPTIONS,onChange:function changeInterpolator(_event,interpolator){interpolator&&dispatch(setColor(interpolator.value))},search:!0,InputDropdownProps:{label:"Heatmap Color",sdsStyle:"minimal",sdsType:"label",style:{marginBottom:5},value:color},DropdownMenuProps:{PopperPlacement:"right-start",groupBy:option=>option.section,width:220}}),(0,jsx_runtime.jsx)(src.msM,{label:`${size} x ${size}`,options:SIZES,onChange:function changeHeatmapSize(_event,heatmapSize){heatmapSize&&dispatch(setSize(heatmapSize.value))},InputDropdownProps:{label:"Heatmap Size",sdsStyle:"minimal",sdsType:"label",style:{marginBottom:5},value:`${size} x ${size}`},DropdownMenuProps:{PopperPlacement:"right-start",width:220}}),(0,jsx_runtime.jsx)(src.msM,{label:camera?"on":"off",options:CAMERA_EFFECT,onChange:function changeHeatmapCamera(_event,heatmapCamera){heatmapCamera&&dispatch(setCamera(heatmapCamera.value))},InputDropdownProps:{label:"Camera Effect",sdsStyle:"minimal",sdsType:"label",style:{marginBottom:5},value:camera?"On":"Off"},DropdownMenuProps:{PopperPlacement:"right-start",width:220}}),(0,jsx_runtime.jsx)(src.msM,{label:toPascalCase(renderer),options:RENDERER,onChange:function changeHeatmapRenderer(_event,heatmapRenderer){heatmapRenderer&&dispatch(setRenderer(heatmapRenderer.value))},InputDropdownProps:{label:"Renderer",sdsStyle:"minimal",sdsType:"label",style:{marginBottom:5},value:toPascalCase(renderer)},DropdownMenuProps:{PopperPlacement:"right-start",width:220}}),(0,jsx_runtime.jsx)(src.msM,{label:type,options:TYPES,onChange:function changeHeatmapType(_event,heatmapType){heatmapType&&dispatch(setType(heatmapType.value))},InputDropdownProps:{label:"Heatmap Type",sdsStyle:"minimal",sdsType:"label",style:{marginBottom:5},value:toPascalCase(type)},DropdownMenuProps:{PopperPlacement:"right-start",width:220}}),(0,jsx_runtime.jsx)(src.msM,{label:symbol,options:SYMBOLS,onChange:function changeHeatmapSymbol(_event,heatmapSymbol){heatmapSymbol&&dispatch(setSymbol(heatmapSymbol.value))},InputDropdownProps:{label:"Symbol Type",sdsStyle:"minimal",sdsType:"label",style:{marginBottom:5},value:toPascalCase(symbol)},DropdownMenuProps:{PopperPlacement:"right-start",width:220}}),(0,jsx_runtime.jsx)(src.msM,{label:emphasis,options:EMPHASIS,onChange:function changeHeatmapEmphasis(_event,heatmapEmphasis){heatmapEmphasis&&dispatch(setEmphasis(heatmapEmphasis.value))},InputDropdownProps:{label:"Emphasis Type",sdsStyle:"minimal",sdsType:"label",style:{marginBottom:5},value:toPascalCase(emphasis)},DropdownMenuProps:{PopperPlacement:"right-start",width:220}})]}),(0,jsx_runtime.jsx)(src.PqE,{autoDismiss:!1,intent:"info",dismissed:!1,style:{margin:0,width:"unset"},hideTitle:!0,body:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["To scroll horizontally, hold down the"," ",(0,jsx_runtime.jsx)(src.vwO,{color:"neutral",label:"SHIFT",sdsStyle:"square",sdsType:"secondary",hover:!1,style:{marginTop:5}})," ","key!"]})})]})};var emotion_element_5486c51c_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-5486c51c.browser.esm.js");const Container=(0,emotion_styled_browser_esm.A)("div",{target:"efvdtqk0"})('font-family:"Inter",sans-serif;display:grid;grid-template-columns:250px 1fr;grid-template-rows:70px 1fr;grid-column-gap:0px;grid-row-gap:0px;position:relative;h3{font-size:20px;font-weight:600;margin:0 0 15px 0;}'),Sidebar=(0,emotion_styled_browser_esm.A)("div",{target:"efvdtqk1"})((()=>{const theme=(0,react.useContext)(emotion_element_5486c51c_browser_esm.T);return`\n      background-color: ${theme?.palette?.sds?.base?.backgroundPrimary};\n    `}),"  grid-area:2 / 1 / 6 / 2;border-right:solid 1px #c3c3c347;padding:20px 15px;height:calc(100vh - 70px);position:sticky;top:70px;left:0;z-index:100;"),Main=(0,emotion_styled_browser_esm.A)("div",{target:"efvdtqk2"})("grid-area:2 / 2 / 6 / 6;padding:20px;.echarts-for-react{height:unset !important;}"),StyledHeader=(0,emotion_styled_browser_esm.A)("div",{target:"e16dmx600"})((()=>{const theme=(0,react.useContext)(emotion_element_5486c51c_browser_esm.T);return`\n      background-color: ${theme?.palette?.sds?.base?.backgroundPrimary};\n    `}),"  grid-area:1 / 1 / 2 / 6;border-bottom:solid 1px #c3c3c347;width:100%;padding:0 15px;height:70px;position:fixed;z-index:200;display:flex;align-items:center;justify-content:space-between;h3{margin:0;line-height:32px;}"),HeaderLeft=(0,emotion_styled_browser_esm.A)("div",{target:"e16dmx601"})("display:flex;"),HeaderRight=(0,emotion_styled_browser_esm.A)("div",{target:"e16dmx602"})("display:block;"),StyledButton=(0,emotion_styled_browser_esm.A)(src.$nd,{target:"e16dmx603"})("margin:0 10px;"),TooltipTag=({label})=>(0,jsx_runtime.jsx)(src.vwO,{label,hover:!1,color:"neutral",sdsType:"secondary",style:{margin:"-2px 4px 0 0"}}),components_Header=()=>{const renderer=(0,react_redux.d4)((state=>state.dataReducer.renderer)),{chartInstance}=useAppContext();return(0,jsx_runtime.jsxs)(StyledHeader,{children:[(0,jsx_runtime.jsxs)(HeaderLeft,{children:[(0,jsx_runtime.jsx)(src.Int,{sdsIcon:"Grid",sdsSize:"xl",color:"gray"}),(0,jsx_runtime.jsxs)("h3",{style:{marginLeft:10},children:["Heatmap (","svg"===renderer?"SVG version":"Canvas version",")"]})]}),(0,jsx_runtime.jsxs)(HeaderRight,{children:[(0,jsx_runtime.jsxs)(src.$nd,{sdsType:"primary",sdsStyle:"rounded",endIcon:(0,jsx_runtime.jsx)(src.Int,{sdsIcon:"Download",sdsSize:"l"}),onClick:()=>function saveAsImage(title){const type="svg"===renderer?"svg":"png",url=chartInstance?.getConnectedDataURL({backgroundColor:"transparent",excludeComponents:["toolbox"],pixelRatio:1,type});if(url){const $a=document.createElement("a");$a.download=title+"."+type,$a.target="_blank",$a.href=url;const evt=new MouseEvent("click",{bubbles:!0,cancelable:!1,view:document.defaultView});$a.dispatchEvent(evt)}}("sds-heatmap"),children:["Download as ","svg"===renderer?".svg":".png"]}),(0,jsx_runtime.jsx)(src.m_M,{title:null,componentSlot:(0,jsx_runtime.jsxs)("div",{children:["To modify the renderer for the heatmap, navigate to the control Within the control panel, you have the option to toggle between renderers: ",(0,jsx_runtime.jsx)(TooltipTag,{label:"SVG"}),"and ",(0,jsx_runtime.jsx)(TooltipTag,{label:"Canvas"}),". If you opt for the SVG renderer, you can download the heatmap in"," ",(0,jsx_runtime.jsx)(TooltipTag,{label:"SVG"}),"format. Alternatively, selecting the canvas renderer provides the option to export the heatmap in ",(0,jsx_runtime.jsx)(TooltipTag,{label:"PNG"}),"format."]}),textAlign:"left",hasInvertedStyle:!1,placement:"bottom-end",arrow:!0,children:(0,jsx_runtime.jsx)(StyledButton,{"aria-label":"Download Info",icon:"InfoCircle",sdsSize:"large",sdsType:"secondary",sdsStyle:"icon"})})]})]})};const heatmapDemo_App=function App(){const[chartInstance,setChartInstance]=(0,react.useState)(void 0);return(0,jsx_runtime.jsx)(AppContext.Provider,{value:{chartInstance,setChartInstance},children:(0,jsx_runtime.jsxs)(Container,{children:[(0,jsx_runtime.jsx)(components_Header,{}),(0,jsx_runtime.jsx)(Sidebar,{children:(0,jsx_runtime.jsx)(components_ControlPanel,{})}),(0,jsx_runtime.jsx)(Main,{children:(0,jsx_runtime.jsx)(components_Heatmap,{})})]})})},store=(0,redux_toolkit_modern.U1)({reducer:{dataReducer}});const index_stories={argTypes:{axisPointer:{control:{labels:["No axis pointer","Show axis pointer on mousemove","Show axis pointer on click"],type:"select"},mapping:HEATMAP_AXIS_POINTER_OPTIONS,options:Object.keys(HEATMAP_AXIS_POINTER_OPTIONS)},camera:{control:{type:"object"}},echartsRendererMode:{control:{labels:["Canvas","SVG"],type:"select"},options:["canvas","svg"]},symbol:{control:{labels:["Circle","Rectangle","Round Rectangle"],type:"select"},options:["circle","rect","roundRect"]},tooltip:{control:{labels:["No tooltip","Show Tooltip"],type:"select"},mapping:HEATMAP_TOOLTIP_OPTIONS,options:Object.keys(HEATMAP_TOOLTIP_OPTIONS)}},component:props=>{const{camera,symbol,tooltip,...rest}=props,CHART_WIDTH_PX=20*(camera&&camera.active?camera.width:100),CHART_HEIGHT_PX=20*(camera&&camera.active?camera.height:100);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(core_HeatmapChart,{width:CHART_WIDTH_PX,height:CHART_HEIGHT_PX,camera,xAxisData:HEATMAP_NUMBERS,yAxisData:HEATMAP_NUMBERS,data:HEATMAP_DATA,encode:HEATMAP_ENCODE,symbol,symbolSize:p=>function symbolSize(props,symbol){const{value}=props;return function convertPercentageToDiameter(percentage,symbol){return"circle"!==symbol?20:20*percentage/100}(value,symbol)}(p,symbol),itemStyle:HEATMAP_ITEM_STYLE,emphasis:{itemStyle:{borderColor:"circle"===symbol?"black":"white",borderType:"solid",borderWidth:"circle"===symbol?2:4,opacity:1},scale:!1},options:{series:[{type:"scatter"}],tooltip},...rest})})},tags:["beta"],parameters:{chromatic:{disableSnapshot:!0},snapshot:{skip:!0}},title:"Data Viz/HeatmapChart"},Default={args:{axisPointer:HEATMAP_AXIS_POINTER_OPTIONS[1],camera:{active:!0,height:20,width:40},echartsRendererMode:"svg",symbol:"circle",tooltip:HEATMAP_TOOLTIP_OPTIONS[1]},parameters:{snapshot:{skip:!0}}},HeatmapDemoComponent=()=>(0,jsx_runtime.jsx)(react_redux.Kq,{store,children:(0,jsx_runtime.jsx)(heatmapDemo_App,{})}),HeatmapDemo={parameters:{axe:{disabledRules:["color-contrast"]},controls:{exclude:["axisPointer","camera","echartsRendererMode","symbol","tooltip"]},layout:"fullscreen",snapshot:{skip:!0}},render:args=>(0,jsx_runtime.jsx)(HeatmapDemoComponent,{...args})},__namedExportsOrder=["Default","HeatmapDemo"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    axisPointer: HEATMAP_AXIS_POINTER_OPTIONS[1],\n    camera: {\n      active: true,\n      height: 20,\n      width: 40\n    },\n    echartsRendererMode: "svg",\n    symbol: "circle",\n    tooltip: HEATMAP_TOOLTIP_OPTIONS[1]\n  },\n  parameters: {\n    snapshot: {\n      skip: true\n    }\n  }\n}',...Default.parameters?.docs?.source}}},HeatmapDemo.parameters={...HeatmapDemo.parameters,docs:{...HeatmapDemo.parameters?.docs,source:{originalSource:'{\n  parameters: {\n    /**\n     * Axe is complaining about color contrast of Axis-labels and\n     * since the colors are by design and the contrast is not an issue,\n     * the rule is disabled for this story.\n     */\n    axe: {\n      disabledRules: ["color-contrast"]\n    },\n    controls: {\n      exclude: ["axisPointer", "camera", "echartsRendererMode", "symbol", "tooltip"]\n    },\n    // This parameter is used to set the story\'s layout to fullscreen\n    // and remove the padding around the storybook root element\n    layout: "fullscreen",\n    snapshot: {\n      skip: true\n    }\n  },\n  render: (args: Args) => <HeatmapDemoComponent {...args} />\n}',...HeatmapDemo.parameters?.docs?.source}}}},"./packages/components/src/core/Autocomplete/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>core_Autocomplete});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),useTheme=__webpack_require__("./node_modules/@mui/material/styles/useTheme.js"),Popper=__webpack_require__("./node_modules/@mui/material/Popper/Popper.js"),utils=__webpack_require__("./packages/components/src/common/utils.ts"),Button=__webpack_require__("./packages/components/src/core/Button/index.tsx"),style=__webpack_require__("./packages/components/src/core/InputSearch/style.ts"),MenuItem=__webpack_require__("./packages/components/src/core/MenuItem/index.tsx"),Autocomplete=__webpack_require__("./node_modules/@mui/material/Autocomplete/Autocomplete.js"),autocompleteClasses=__webpack_require__("./node_modules/@mui/material/Autocomplete/autocompleteClasses.js"),Paper=__webpack_require__("./node_modules/@mui/material/Paper/Paper.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),InputSearch=__webpack_require__("./packages/components/src/core/InputSearch/index.tsx"),styles=__webpack_require__("./packages/components/src/core/styles/index.ts"),opacity=__webpack_require__("./packages/components/src/core/styles/common/utils/opacity.ts");const doNotForwardProps=["count","keepSearchOnSelect","search","InputBaseProps","PopperBaseProps","onClickAway","hasGroupBy"],StyledAutocompleteBase=(0,emotion_styled_browser_esm.A)(Autocomplete.A,{shouldForwardProp:prop=>!doNotForwardProps.includes(prop),target:"e1rprllb0"})("+ .",autocompleteClasses.A.popper,"    > .",autocompleteClasses.A.paper,"    .",autocompleteClasses.A.groupLabel,"{",styles.Uw,"}",(props=>{const{search,groupBy}=props,spaces=(0,styles.oZ)(props),borders=(0,styles.X_)(props),semanticColors=(0,styles.Bd)(props);return`\n      ${!search&&"height: 0; margin: 0 !important;"};\n      \n      // (masoudmanson): We need to apply the focus styles to the input element\n      // when the user is tabbing through the options. To find out more, take a\n      // look at the useDetectUserTabbing hook.\n      &[data-user-is-tabbing="true"]:focus-within {\n        border-radius: 4px;\n        outline: 2px solid ${semanticColors?.base?.borderPrimaryHover};\n        outline-offset: 1px;\n      }\n\n      .MuiFormControl-root {\n        outline: none;\n      }\n\n      .MuiOutlinedInput-root.MuiInputBase-formControl.MuiInputBase-adornedEnd {\n        padding: 0 ${spaces?.m}px;\n\n        .MuiAutocomplete-input {\n          padding: ${spaces?.xs}px ${spaces?.s}px;\n        }\n      }\n\n      & + .${autocompleteClasses.A.popper} > .${autocompleteClasses.A.paper} {\n        .${autocompleteClasses.A.listbox} {\n          max-height: 40vh;\n          padding: 0 ${groupBy?0:spaces?.xs}px;\n\n          .${autocompleteClasses.A.option} {\n            min-height: unset;\n\n            &.${autocompleteClasses.A.focused} {\n              background-color: ${semanticColors?.base?.fillHover};\n            }\n\n            &[aria-selected="true"] {\n              background-color: ${semanticColors?.base?.surface};\n            }\n\n            &[aria-disabled="true"] {\n              opacity: 1;\n            }\n\n            &[aria-selected="true"].${autocompleteClasses.A.focused} {\n              background-color: ${semanticColors?.base?.fillHover};\n            }\n          }\n\n          & > li:last-child .${autocompleteClasses.A.groupUl} {\n            border-bottom: none;\n            margin-bottom: 0;\n            padding-bottom: 0;\n          }\n        }\n\n        .${autocompleteClasses.A.groupLabel} {\n          top: 0;\n          color: ${semanticColors?.base?.textSecondary};\n          background-color: ${semanticColors?.base?.surface};\n          padding: 0 ${spaces?.m}px;\n        }\n\n        .${autocompleteClasses.A.groupUl} {\n          position: relative;\n          margin: 0 0 ${spaces?.s}px;\n          border-bottom: ${borders?.base?.divider};\n          padding: ${spaces?.xxs}px ${spaces?.xs}px;\n\n          & li:last-of-type {\n            position: relative;\n          }\n        }\n\n        .${autocompleteClasses.A.noOptions} {\n          padding: ${spaces?.xxs}px ${spaces?.m}px ${spaces?.xs}px;\n        }\n\n        .${autocompleteClasses.A.loading} {\n          padding: 0 ${spaces?.xs}px;\n        }\n      }\n    `})),InputBaseWrapper=(0,emotion_styled_browser_esm.A)("div",{shouldForwardProp:prop=>!doNotForwardProps.includes(prop),target:"e1rprllb1"})((props=>{const{search}=props;if(!search)return"\n        border: 0;\n        padding: 0;\n        white-space: nowrap;\n        clip-path: inset(100%);\n        clip: rect(0 0 0 0);\n        overflow: hidden;\n        margin: 0;\n        speak: none;\n      "})),StyledMenuInputSearch=(0,emotion_styled_browser_esm.A)(InputSearch.A,{shouldForwardProp:prop=>!doNotForwardProps.includes(prop),target:"e1rprllb2"})("margin:0;.MuiInputBase-root{width:100%;}caret-color:",(({search})=>search?"auto":"transparent"),";"),StyledPaper=(0,emotion_styled_browser_esm.A)(Paper.A,{target:"e1rprllb3"})((props=>{const corners=(0,styles.VP)(props),shadows=(0,styles.CG)(props),borders=(0,styles.X_)(props),spaces=(0,styles.oZ)(props),semanticColors=(0,styles.Bd)(props);return`\n      background-image: none;\n      padding: ${spaces?.xs}px 0;\n      background-color: ${semanticColors?.base?.surface};\n      border: ${borders?.none};\n      outline: 1px solid ${(0,opacity.J)(semanticColors?.base?.borderSecondary||"#000",15)};\n      border-radius: ${corners?.l}px;\n      box-shadow: ${shadows?.m};\n      box-sizing: border-box;\n    `})),StyledMenuItemDetails=(0,emotion_styled_browser_esm.A)("div",{target:"e1rprllb4"})(styles.Pf," ",(props=>{const{disabled}=props,semanticColors=(0,styles.Bd)(props);return`\n      color: ${disabled?semanticColors?.base?.textDisabled:semanticColors?.base?.textSecondary};\n      white-space: pre-wrap;\n    `})),StyledMenuItemText=(0,emotion_styled_browser_esm.A)("div",{target:"e1rprllb5"})("display:flex;flex-direction:column;");var userTabbing=__webpack_require__("./packages/components/src/common/helpers/userTabbing.ts");const components_AutocompleteBase=props=>{const{multiple,disableCloseOnSelect=multiple,getOptionLabel=defaultGetOptionLabel,InputBaseProps=utils.Ml,isOptionEqualToValue=defaultIsOptionEqualToValue,keepSearchOnSelect=!1,label="Label",loading=!1,loadingText="",noOptionsText="No options",onInputChange=utils.lQ,renderOption=defaultRenderOption,renderTags=defaultRenderTags,search=!1,clearOnBlur=!1,blurOnSelect=!multiple,onClickAway,onClick,onOpen,onClose,disabled,intent="default"}=props,theme=(0,useTheme.A)(),ref=(0,react.useRef)(null),[inputValue,setInputValue]=(0,react.useState)("");return(0,userTabbing.A)(ref),(0,jsx_runtime.jsx)(StyledAutocompleteBase,{ref,clearOnBlur,disableCloseOnSelect,disablePortal:!0,renderTags,loading,loadingText,noOptionsText,PaperComponent:StyledPaper,PopperComponent:function useDefaultPopperComponent(){return(0,react.useCallback)((popperProps=>(0,jsx_runtime.jsx)(Popper.A,{modifiers:[{enabled:!0,name:"offset",options:{offset:[0,theme.app?.spacing.s]}}],...popperProps})),[])}(),renderOption,getOptionLabel,isOptionEqualToValue,inputValue,renderInput:function defaultRenderInput(params){return(0,jsx_runtime.jsx)(InputBaseWrapper,{search,children:(0,jsx_runtime.jsx)(StyledMenuInputSearch,{id:"location-search","aria-label":"Search Input",tabIndex:search?0:-1,"aria-hidden":!search,label,placeholder:label,ref:params.InputProps.ref,search,onKeyDown:event=>{"Backspace"===event.key&&event.stopPropagation()},InputProps:{...params.InputProps.ref,"aria-hidden":!search,endAdornment:(0,jsx_runtime.jsx)(style.sR,{position:"end",children:inputValue&&(0,jsx_runtime.jsx)(Button.A,{tabIndex:search?0:-1,"aria-hidden":!search,disabled:!search,"aria-label":"Clear Button",className:"input-search-clear-icon",onClick:clearInput,sdsType:"tertiary",sdsSize:"small",sdsStyle:"icon",icon:"XMarkCircle"})}),inputMode:search?"text":"none",inputProps:params.inputProps,startAdornment:(0,jsx_runtime.jsx)(style.sR,{position:"start",children:(0,jsx_runtime.jsx)(Button.A,{"aria-label":"Search Button",tabIndex:search?0:-1,"aria-hidden":!search,disabled:!search,sdsType:"tertiary",sdsSize:"small",sdsStyle:"icon",icon:"Search"})})},intent,...InputBaseProps})})},multiple,onOpen:function defaultOnOpen(event){onOpen?.(event),onClick?.(event)},onClose:function defaultOnClose(event,reason){onClose?.(event,reason),onClickAway?.(event,reason)},...props,blurOnSelect:!multiple&&blurOnSelect,onBlur:function defaultOnBlur(event){clearOnBlur&&setInputValue("");props.onBlur?.(event)},onInputChange:function defaultOnInputChange(event,value,reason){multiple?"clear"===reason?setInputValue(""):("input"===reason||"reset"===reason&&!keepSearchOnSelect)&&setInputValue(value):setInputValue("input"===reason?value:"");onInputChange&&onInputChange(event,value,reason)},disabled:disabled||!search});function clearInput(){setInputValue(""),onInputChange&&onInputChange({target:{value:""}},"","clear")}function defaultGetOptionLabel(option){return"object"==typeof option&&"name"in option?option.name:option.toString()}function defaultIsOptionEqualToValue(option,val){return option.name===val.name}function defaultRenderTags(){return null}function defaultRenderOption(optionProps,option,{selected}){let MenuItemContent;const{component,details,count,icon,sdsIconProps,disabled:optionDisabled,...restOptionProps}=option,menuItemLabel=getOptionLabel(option);return MenuItemContent=component||(0,jsx_runtime.jsxs)(StyledMenuItemText,{children:[menuItemLabel,details&&(0,jsx_runtime.jsx)(StyledMenuItemDetails,{disabled:optionDisabled,className:"menuItem-details",children:details})]}),(0,react.createElement)(MenuItem.A,{column:count,disabled:optionDisabled||!0===optionProps["aria-disabled"],icon,sdsIconProps,isMultiSelect:multiple,selected,...optionProps,...restOptionProps,key:option.name},MenuItemContent)}};var ClickAwayListener=__webpack_require__("./node_modules/@mui/material/ClickAwayListener/ClickAwayListener.js");const StyledColumn=(0,emotion_styled_browser_esm.A)("div",{target:"ex3ookl0"})((props=>{const{width=280}=props;return`\n      position: relative;\n      width: ${width}px;\n    `})),StyledColumnTitle=(0,emotion_styled_browser_esm.A)("p",{target:"ex3ookl1"})(styles.Uw," ",(props=>{const spaces=(0,styles.oZ)(props),semanticColors=(0,styles.Bd)(props);return`\n      color: ${semanticColors?.base?.textSecondary};\n      padding: 0 ${spaces?.xs}px ${spaces?.xxs}px;\n      margin: 0;\n    `})),components_AutocompleteGroup=props=>{const{autocompleteProps,onValueChange,value:propValue,multiple,label,InputBaseProps,popperOpen,inputValue,PaperComponent,...rest}=props,{name,width,props:propProps}=autocompleteProps,[value,setValue]=(0,react.useState)(getInitialValue(multiple,propValue)),[pendingValue,setPendingValue]=(0,react.useState)(getInitialValue(multiple,propValue));(0,react.useEffect)((()=>{void 0!==propValue&&setValue(propValue)}),[propValue]);const handleChange=(0,react.useCallback)(((event,newValue,reason,details)=>{propProps?.onChange?.(event,newValue,reason,details),onValueChange(name,event,newValue,reason,details),multiple?setPendingValue(newValue):newValue&&!Array.isArray(newValue)&&Object.prototype.hasOwnProperty.call(newValue,"name")&&setValue(newValue)}),[name,multiple,onValueChange,propProps]);return(0,jsx_runtime.jsxs)(StyledColumn,{width,className:"SdsAutocompleteMultiColumn-column-root",children:[(0,jsx_runtime.jsx)(StyledColumnTitle,{className:"SdsAutocompleteMultiColumn-column-title",children:name}),(0,jsx_runtime.jsx)(components_AutocompleteBase,{label,InputBaseProps,open:popperOpen,multiple,inputValue,options:autocompleteProps.options,onChange:handleChange,value:multiple?pendingValue:value,search:!1,PaperComponent,...rest,...autocompleteProps.props,groupBy:void 0})]});function getInitialValue(isMultiple,customValue){return void 0!==customValue?customValue:isMultiple?[]:null}},style_doNotForwardProps=["anchorEl","count","keepSearchOnSelect","search","InputBaseProps","title","PopperBaseProps","onClickAway","ClickAwayListenerProps"],StyledPopper=(0,emotion_styled_browser_esm.A)(Popper.A,{shouldForwardProp:prop=>!style_doNotForwardProps.includes(prop)||"anchorEl"===prop,target:"e1mvav210"})((props=>{const corners=(0,styles.VP)(props),shadows=(0,styles.CG)(props),spaces=(0,styles.oZ)(props),borders=(0,styles.X_)(props),semanticColors=(0,styles.Bd)(props);return`\n      background-color: ${semanticColors?.base?.surface};\n      background-image: none;\n      border: ${borders?.none};\n      border-radius: ${corners?.l}px;\n      box-shadow: ${shadows?.m};\n      padding: ${spaces?.s}px ${spaces?.xs}px ${spaces?.xs}px;\n      box-sizing: border-box;\n      z-index: 1400;\n\n      .${autocompleteClasses.A.popper}.${autocompleteClasses.A.popperDisablePortal} {\n        position: relative !important;\n        transform: none !important;\n      \n        .MuiPaper-root .${autocompleteClasses.A.listbox} {\n          padding: 0;\n        }\n      }\n    `})),style_StyledPaper=(0,emotion_styled_browser_esm.A)(Paper.A,{shouldForwardProp:prop=>!style_doNotForwardProps.includes(prop),target:"e1mvav211"})((props=>{const shadows=(0,styles.CG)(props),semanticColors=(0,styles.Bd)(props);return`\n      background-color: ${semanticColors?.base?.surface};\n      background-image: none;\n      box-shadow: ${shadows?.none};\n      margin: 0;\n      border-radius: 0;\n      padding-top: 0;\n      padding-bottom: 0;\n    `})),StyledAutocompleteGroupWrapper=(0,emotion_styled_browser_esm.A)("div",{target:"e1mvav212"})("display:flex;"),StyledAutocompleteInput=(0,emotion_styled_browser_esm.A)(InputSearch.A,{shouldForwardProp:prop=>!style_doNotForwardProps.includes(prop),target:"e1mvav213"})((({search})=>!search&&"height: 0; display: none; margin: 0 !important;"),"  margin:0;.MuiInputBase-root{width:100%;}caret-color:",(({search})=>search?"auto":"transparent"),";");var styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js");const StyledVerticalDivider=(0,styled.Ay)("div")`
  ${props=>{const spaces=(0,styles.oZ)(props),semanticColors=(0,styles.Bd)(props);return`\n      position: relative;\n      width: 1px;\n      background-color: ${semanticColors?.base?.divider};\n      margin: 0 ${spaces?.xs}px;\n    `}}
`,StyledColumnIcon=(0,styled.Ay)("span")`
  ${props=>{const spaces=(0,styles.oZ)(props),iconSizes=(0,styles.I7)(props),semanticColors=(0,styles.Bd)(props);return`\n      background-color: ${semanticColors?.base?.surface};\n      position: absolute;\n      right: -${spaces?.xs}px;\n      top: -${spaces?.xxxs}px;\n\n      svg {\n        color: ${semanticColors?.base?.ornamentDisabled};\n        width: ${iconSizes?.xs.width}px;\n        height: ${iconSizes?.xs.height}px;\n      }\n    `}}
`,VerticalDivider=({icon})=>(0,jsx_runtime.jsx)(StyledVerticalDivider,{children:icon&&(0,jsx_runtime.jsx)(StyledColumnIcon,{children:icon})}),components_AutocompleteMultiColumn=props=>{const{InputBaseProps,open,PopperPlacement="bottom-start",PopperBaseProps,search=!1,label="Search",onClickAway,onClick,ClickAwayListenerProps,options,onInputChange,onBlur,multiple,value:parentInitialValue,onChange,PopperComponent=StyledPopper,...rest}=props,theme=(0,useTheme.A)(),isOpenControlled=void 0!==open,[inputValue,setInputValue]=(0,react.useState)(""),[popperOpen,setPopperOpen]=(0,react.useState)(!!isOpenControlled&&open);(0,react.useEffect)((()=>{isOpenControlled&&setPopperOpen(open)}),[isOpenControlled,open]);const anchorRef=(0,react.useRef)(null),[anchorEl,setAnchorEl]=react.useState(null);(0,userTabbing.A)(anchorRef),(0,react.useEffect)((()=>{setAnchorEl(anchorRef?.current)}),[anchorRef]);const[autocompleteMultiColumnValue,setAutocompleteMultiColumnValue]=(0,react.useState)({});(0,react.useEffect)((()=>{void 0!==parentInitialValue&&setAutocompleteMultiColumnValue(parentInitialValue)}),[options,parentInitialValue]);const defaultOnValueChange=(column,event,val,reason,details)=>{setAutocompleteMultiColumnValue((prev=>({...prev,[column]:val}))),onChange?.(event,{...autocompleteMultiColumnValue,[column]:val},reason,details)};return(0,jsx_runtime.jsx)(ClickAwayListener.x,{onClickAway:function defaultOnClickAway(event){if(popperOpen){if(onClickAway?.(event,"blur"),isOpenControlled)return;setPopperOpen(!1)}},...ClickAwayListenerProps,children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(StyledAutocompleteInput,{id:"location-search",label,placeholder:label,value:inputValue,onChange:function handleInputChange(event){setInputValue(event.target.value),onInputChange&&(""===event.target.value?onInputChange(event,"","clear"):onInputChange(event,event.target.value,"input"))},onClick:function handleInputClick(event){if(onClick?.(event),isOpenControlled)return;setPopperOpen(!popperOpen)},onBlur:function handleInputBlur(event){props.clearOnBlur&&setInputValue("");onBlur?.(event)},ref:anchorRef,search,onKeyDown:function handleInputKeyDown(event){if(props?.onKeyDown)props?.onKeyDown?.(event);else if("Backspace"===event.key&&event.stopPropagation(),"Escape"===event.key){if(isOpenControlled)return void onClick?.();setPopperOpen(!1)}else setPopperOpen(!0)},InputProps:{...InputBaseProps?.ref,endAdornment:(0,jsx_runtime.jsx)(style.sR,{position:"end",children:inputValue&&(0,jsx_runtime.jsx)(Button.A,{"aria-label":"clear-button",className:"input-search-clear-icon",sdsType:"tertiary",sdsSize:"small",sdsStyle:"icon",icon:"XMarkCircle",onClick:function clearInput(){setInputValue(""),onInputChange?.({target:{value:""}},"","clear")}})}),inputMode:"text",startAdornment:(0,jsx_runtime.jsx)(style.sR,{position:"start",children:(0,jsx_runtime.jsx)(Button.A,{"aria-label":"search-button",sdsType:"tertiary",sdsSize:"small",sdsStyle:"icon",icon:"Search"})})},...InputBaseProps}),anchorEl&&(0,jsx_runtime.jsx)(PopperComponent,{modifiers:[{name:"offset",options:{offset:[0,theme.app?.spacing.s]}}],open:popperOpen,anchorEl,placement:PopperPlacement,disablePortal:!0,...PopperBaseProps,children:(0,jsx_runtime.jsx)(StyledAutocompleteGroupWrapper,{className:"SdsAutocompleteMultiColumn-wrapper",children:options.map(((autocompleteOptions,index)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(components_AutocompleteGroup,{autocompleteProps:autocompleteOptions,onValueChange:defaultOnValueChange,value:autocompleteMultiColumnValue?autocompleteMultiColumnValue[autocompleteOptions.name]:void 0,multiple,label,InputBaseProps:{...InputBaseProps,autoFocus:!1,tabIndex:-1},popperOpen,inputValue,PaperComponent:style_StyledPaper,...rest},autocompleteOptions.name),index<options.length-1&&(0,jsx_runtime.jsx)(VerticalDivider,{icon:autocompleteOptions.icon})]},autocompleteOptions.name+index)))})})]})})},core_Autocomplete=props=>{const{options,value,onChange,...rest}=props;return options&&options[0]&&"options"in options[0]?options.length>1?(0,jsx_runtime.jsx)(components_AutocompleteMultiColumn,{options,value,onChange,...rest,groupBy:void 0}):(0,jsx_runtime.jsx)(components_AutocompleteBase,{options:options[0].options,value,onChange,...rest}):(0,jsx_runtime.jsx)(components_AutocompleteBase,{options,onChange,value,...rest})}}}]);
//# sourceMappingURL=core-HeatmapChart-__storybook__-index-stories.b6ffad87.iframe.bundle.js.map