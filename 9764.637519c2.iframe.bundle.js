"use strict";(self.webpackChunk_czi_sds_monorepo=self.webpackChunk_czi_sds_monorepo||[]).push([[9764],{"./node_modules/@mui/material/ClickAwayListener/ClickAwayListener.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{x:()=>ClickAwayListener});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/utils/esm/useForkRef/useForkRef.js"),_mui_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/utils/esm/useEventCallback/useEventCallback.js"),_mui_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/utils/esm/ownerDocument/ownerDocument.js"),_mui_utils_getReactElementRef__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/utils/esm/getReactElementRef/getReactElementRef.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function mapEventPropToEvent(eventProp){return eventProp.substring(2).toLowerCase()}function ClickAwayListener(props){const{children,disableReactTree=!1,mouseEvent="onClick",onClickAway,touchEvent="onTouchEnd"}=props,movedRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1),nodeRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),activatedRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1),syntheticEventRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1);react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>(setTimeout(()=>{activatedRef.current=!0},0),()=>{activatedRef.current=!1}),[]);const handleRef=(0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__.A)((0,_mui_utils_getReactElementRef__WEBPACK_IMPORTED_MODULE_4__.A)(children),nodeRef),handleClickAway=(0,_mui_utils__WEBPACK_IMPORTED_MODULE_2__.A)(event=>{const insideReactTree=syntheticEventRef.current;syntheticEventRef.current=!1;const doc=(0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__.A)(nodeRef.current);if(!activatedRef.current||!nodeRef.current||"clientX"in event&&function clickedRootScrollbar(event,doc){return doc.documentElement.clientWidth<event.clientX||doc.documentElement.clientHeight<event.clientY}(event,doc))return;if(movedRef.current)return void(movedRef.current=!1);let insideDOM;insideDOM=event.composedPath?event.composedPath().indexOf(nodeRef.current)>-1:!doc.documentElement.contains(event.target)||nodeRef.current.contains(event.target),insideDOM||!disableReactTree&&insideReactTree||onClickAway(event)}),createHandleSynthetic=handlerName=>event=>{syntheticEventRef.current=!0;const childrenPropsHandler=children.props[handlerName];childrenPropsHandler&&childrenPropsHandler(event)},childrenProps={ref:handleRef};return!1!==touchEvent&&(childrenProps[touchEvent]=createHandleSynthetic(touchEvent)),react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{if(!1!==touchEvent){const mappedTouchEvent=mapEventPropToEvent(touchEvent),doc=(0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__.A)(nodeRef.current),handleTouchMove=()=>{movedRef.current=!0};return doc.addEventListener(mappedTouchEvent,handleClickAway),doc.addEventListener("touchmove",handleTouchMove),()=>{doc.removeEventListener(mappedTouchEvent,handleClickAway),doc.removeEventListener("touchmove",handleTouchMove)}}},[handleClickAway,touchEvent]),!1!==mouseEvent&&(childrenProps[mouseEvent]=createHandleSynthetic(mouseEvent)),react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{if(!1!==mouseEvent){const mappedMouseEvent=mapEventPropToEvent(mouseEvent),doc=(0,_mui_utils__WEBPACK_IMPORTED_MODULE_3__.A)(nodeRef.current);return doc.addEventListener(mappedMouseEvent,handleClickAway),()=>{doc.removeEventListener(mappedMouseEvent,handleClickAway)}}},[handleClickAway,mouseEvent]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children,childrenProps)})}},"./packages/components/src/common/storybook/AUTOCOMPLETE_MULTI_COLUMN_OPTIONS.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{J:()=>AUTOCOMPLETE_MULTI_COLUMN_OPTIONS});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),src_core_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/src/core/Icon/index.tsx"),_svg_customSdsIcon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/src/common/storybook/svg/customSdsIcon.tsx"),_svg_customSvgIcon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/src/common/storybook/svg/customSvgIcon.tsx");const AUTOCOMPLETE_MULTI_COLUMN_OPTIONS=[{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(src_core_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{sdsIcon:"ChevronRight",sdsSize:"xs"}),name:"Column One",options:[{name:"Status: can't reproduce"},{name:"Status: confirmed"},{count:3,name:"Status: duplicate",disabled:!0},{count:5,name:"Status: needs information",disabled:!0},{details:"This will not be worked on",name:"Status: wont do/fix"},{details:"This is still in progress",name:"Status: work in progress"}],width:260},{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(src_core_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{sdsIcon:"ChevronRight",sdsSize:"xs"}),name:"Column Two",options:[{details:"This will be worked on!",name:"Type: bug"},{count:4,name:"Type: discussion"},{name:"Type: documentation"},{name:"Type: enhancement"},{name:"Type: epic"},{name:"Type: feature request"},{name:"Type: question"}],width:260},{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(src_core_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{sdsIcon:"ChevronRight",sdsSize:"xs"}),name:"Column Three",options:[{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_svg_customSdsIcon__WEBPACK_IMPORTED_MODULE_2__.A,{sdsSize:"s",color:"green",shade:400}),name:"Custom SDS Icon",section:"With Icon"},{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_svg_customSvgIcon__WEBPACK_IMPORTED_MODULE_3__.A,{sx:{color:"orange",height:16,width:16}}),name:"Custom SVG Icon",section:"With Icon"},{icon:"PuzzlePiece",name:"Puzzle Piece",sdsIconProps:{color:"gray",shade:500}},{count:10,icon:"Copy",name:"Copy",sdsIconProps:{color:"gray",shade:500}},{icon:"LightBulb",name:"Light Bulb",sdsIconProps:{color:"gray",shade:500}},{count:6,icon:"List",name:"List",sdsIconProps:{color:"gray",shade:500}},{icon:"TreeVertical",name:"Vertical Tree",sdsIconProps:{color:"gray",shade:500}},{icon:"Link",name:"Link",sdsIconProps:{color:"gray",shade:500}}],width:200}]},"./packages/components/src/core/Dropdown/__storybook__/constants.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{HH:()=>DROPDOWN_LABEL,Kx:()=>DROPDOWN_EXCLUDED_CONTROLS,Wj:()=>DROPDOWN_ON_CLOSE_OPTIONS,i8:()=>DROPDOWN_DATA_OPTIONS,s1:()=>DROPDOWN_BUTTON_POSITION_OPTIONS,wF:()=>DROPDOWN_ON_CHANGE_OPTIONS});var src_common_storybook_AUTOCOMPLETE_MULTI_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/components/src/common/storybook/AUTOCOMPLETE_MULTI_COLUMN_OPTIONS.tsx"),src_common_storybook_AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS.tsx"),src_common_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/src/common/utils.ts");const DROPDOWN_EXCLUDED_CONTROLS=["buttonPosition","label","onChange","DropdownMenuProps","buttons","closeOnBlur","disabled","multiple","onClose","options","search","isTriggerChangeOnOptionClick","InputDropdownProps","title","isSearchAutoFocus"],DROPDOWN_ON_CHANGE_OPTIONS=[src_common_utils__WEBPACK_IMPORTED_MODULE_2__.lQ,value=>{console.log(value)}],DROPDOWN_ON_CLOSE_OPTIONS=[src_common_utils__WEBPACK_IMPORTED_MODULE_2__.lQ,()=>{console.log("Closed!")}],DROPDOWN_BUTTON_POSITION_OPTIONS=["left","right"],DROPDOWN_DATA_OPTIONS=[src_common_storybook_AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_1__.G,[src_common_storybook_AUTOCOMPLETE_MULTI_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_0__.J[0],src_common_storybook_AUTOCOMPLETE_MULTI_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_0__.J[1]],[src_common_storybook_AUTOCOMPLETE_MULTI_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_0__.J[0],src_common_storybook_AUTOCOMPLETE_MULTI_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_0__.J[1],src_common_storybook_AUTOCOMPLETE_MULTI_COLUMN_OPTIONS__WEBPACK_IMPORTED_MODULE_0__.J[2]]],DROPDOWN_LABEL="Click Target"},"./packages/components/src/core/Dropdown/index.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ay:()=>core_Dropdown});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./packages/components/src/common/utils.ts"),DropdownMenu=__webpack_require__("./packages/components/src/core/DropdownMenu/index.tsx"),InputDropdown=(__webpack_require__("./packages/components/src/core/DropdownMenu/style.ts"),__webpack_require__("./packages/components/src/core/InputDropdown/index.tsx")),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),styles=__webpack_require__("./packages/components/src/core/styles/index.ts");const doNotForwardProps=["buttonPosition"],StyledButtonsWrapper=(0,emotion_styled_browser_esm.A)("div",{shouldForwardProp:prop=>!doNotForwardProps.includes(prop),target:"ekd0t4m0"})(props=>{const{buttonPosition}=props,spaces=(0,styles.oZ)(props);return`\n      display: flex;\n      justify-content: ${"left"===buttonPosition?"start":"end"};\n      width: 100%;\n\n      & > div {\n        gap: ${spaces?.xs}px;\n        padding: ${spaces?.xs}px ${spaces?.xs}px 0;\n        display: flex;\n        align-items: center;\n        flex-direction: row;\n        width: 100%;\n\n        & > button {\n          width: 100%;\n        }\n      }\n    `});var Button=__webpack_require__("./packages/components/src/core/Button/index.tsx");const DropdownButtons=({buttonPosition,onApply,onCancel})=>{const applyButton=(0,jsx_runtime.jsx)(Button.A,{onClick:onApply,size:"large",sdsStyle:"solid",sdsType:"primary",children:"Apply"}),cancelButton=(0,jsx_runtime.jsx)(Button.A,{onClick:onCancel,size:"large",sdsStyle:"outline",sdsType:"primary",children:"Cancel"});return(0,jsx_runtime.jsx)(StyledButtonsWrapper,{buttonPosition,children:(0,jsx_runtime.jsx)("div",{children:"left"===buttonPosition?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[applyButton,cancelButton]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[cancelButton,applyButton]})})})};function shouldApplyPendingChanges(isTriggerChangeOnOptionClick,pendingValue,value){return!isTriggerChangeOnOptionClick&&("object"==typeof pendingValue&&null!==pendingValue?JSON.stringify(pendingValue)!==JSON.stringify(value):pendingValue!==value)}const core_Dropdown=props=>{const{options,label="",multiple=!1,search=!1,isSearchAutoFocus=!0,buttonPosition="right",buttons=!1,closeOnBlur=!buttons,onClose,onOpen,onChange,title,DropdownMenuProps={},InputDropdownProps,InputDropdownComponent=InputDropdown.A,isTriggerChangeOnOptionClick=!1,disabled=!1,value:propValue,onClick,...rest}=props;buttons&&!multiple&&console.warn("Warning: buttons are only supported for multiple select dropdowns.");const[anchorEl,setAnchorEl]=(0,react.useState)(null),[open,setOpen]=(0,react.useState)(!1),isMultiColumn=(0,react.useMemo)(()=>"options"in(options?.[0]||utils.Ml),[options]),shouldShowButtons=(0,react.useMemo)(()=>buttons&&!isTriggerChangeOnOptionClick&&multiple,[buttons,isTriggerChangeOnOptionClick,multiple]),{value,setValue,pendingValue,setPendingValue}=function useDropdownState(propValue,multiple,options){const getInitialValue=(0,react.useCallback)(()=>multiple?[]:null,[multiple]),isControlled=void 0!==propValue,[value,setValue]=(0,react.useState)(getInitialValue()),[pendingValue,setPendingValue]=(0,react.useState)(getInitialValue());return(0,react.useEffect)(()=>{isControlled&&(setValue(propValue),multiple&&setPendingValue(propValue))},[isControlled,propValue,multiple]),(0,react.useEffect)(()=>{if(!isControlled){const initialValue=multiple?[]:null;setValue(initialValue),setPendingValue(initialValue)}},[options,isControlled,multiple]),{isControlled,pendingValue,setPendingValue,setValue,value}}(propValue,multiple,options),setValueAndCallOnChange=(0,react.useCallback)((event,newValue,reason,details)=>{setValue(newValue),onChange?.(event,newValue,reason,details)},[setValue,onChange]),handleChange=(0,react.useCallback)((event,newValue,reason,details)=>{if(multiple)return setPendingValue(newValue),void(isTriggerChangeOnOptionClick&&setValueAndCallOnChange(event,newValue,reason,details));setValueAndCallOnChange(event,newValue,reason,details),isMultiColumn||setOpen(!1)},[multiple,isTriggerChangeOnOptionClick,setPendingValue,setValueAndCallOnChange,isMultiColumn]),handleClickAway=(0,react.useCallback)(()=>{if(open)if(closeOnBlur&&!shouldShowButtons){if(multiple&&shouldApplyPendingChanges(isTriggerChangeOnOptionClick,pendingValue,value)){const syntheticEvent=new Event("change");onChange?.(syntheticEvent,pendingValue,"blur",void 0)}multiple&&setValue(pendingValue),setOpen(!1)}else!closeOnBlur&&shouldShowButtons&&multiple&&setPendingValue(value)},[open,closeOnBlur,shouldShowButtons,multiple,setValue,pendingValue,isTriggerChangeOnOptionClick,value,onChange,setPendingValue]),handleDropdownClose=(0,react.useCallback)(event=>{multiple&&(shouldApplyPendingChanges(isTriggerChangeOnOptionClick,pendingValue,value)&&setValueAndCallOnChange(event,pendingValue,"selectOption",void 0),setValue(pendingValue)),setOpen(!1),anchorEl?.focus()},[multiple,isTriggerChangeOnOptionClick,pendingValue,value,setValueAndCallOnChange,setValue,anchorEl]),handleClick=(0,react.useCallback)(event=>{onClick?.(event),open?shouldShowButtons||handleDropdownClose(event):(multiple&&setPendingValue(value),setAnchorEl(event.currentTarget),setOpen(!0),onOpen?.(event))},[onClick,open,shouldShowButtons,multiple,setPendingValue,value,handleDropdownClose,onOpen]),handleClose=(0,react.useCallback)((event,reason)=>{if("toggleInput"===reason)return;if(shouldShowButtons&&"blur"===reason)return;if(multiple)if(!shouldShowButtons||"selectOption"===reason){if(shouldApplyPendingChanges(isTriggerChangeOnOptionClick,pendingValue,value)){const changeReason=function mapCloseReasonToChangeReason(reason){switch(reason){case"selectOption":return"selectOption";case"removeOption":return"removeOption";default:return"blur"}}(reason);setValueAndCallOnChange(event,pendingValue,changeReason,void 0)}setValue(pendingValue)}else setPendingValue(value);anchorEl?.focus(),(closeOnBlur||shouldShowButtons)&&onClose?.(event,reason),shouldShowButtons&&setOpen(!1)},[shouldShowButtons,multiple,setValue,pendingValue,anchorEl,closeOnBlur,onClose,isTriggerChangeOnOptionClick,value,setValueAndCallOnChange,setPendingValue]),handleButtonClose=(0,react.useCallback)(event=>{handleClose(event,"selectOption")},[handleClose]),handleCancel=(0,react.useCallback)(()=>{multiple&&setPendingValue(value),anchorEl?.focus(),setOpen(!1);const syntheticEvent=new Event("cancel");onClose?.(syntheticEvent,"escape")},[multiple,setPendingValue,value,anchorEl,onClose]),countMultiColumnSelections=(0,react.useCallback)(currentValue=>{if(!currentValue||"object"!=typeof currentValue)return 0;let totalCount=0;return Object.values(currentValue).forEach(items=>{Array.isArray(items)?totalCount+=items.length:items&&(totalCount+=1)}),totalCount},[]),getSingleSelectionProps=(0,react.useCallback)(currentValue=>{if(!currentValue||"object"!=typeof currentValue||!("name"in currentValue))return{};const item=currentValue;return{details:item.details||void 0,value:item.name}},[]),getInputDropdownProps=(0,react.useMemo)(()=>{const currentValue=value;if(isMultiColumn){const totalCount=countMultiColumnSelections(currentValue);return totalCount>0?{counter:totalCount}:{}}if(multiple){const count=Array.isArray(currentValue)?currentValue.length:0;return count>0?{counter:count}:{}}return getSingleSelectionProps(currentValue)},[value,isMultiColumn,multiple,countMultiColumnSelections,getSingleSelectionProps]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(InputDropdownComponent,{disabled,label,onClick:handleClick,"aria-expanded":open,"aria-haspopup":"listbox",multiple:multiple||isMultiColumn,...getInputDropdownProps,...InputDropdownProps,...rest}),(0,jsx_runtime.jsx)(DropdownMenu.A,{anchorEl,open,search,onClose:handleClose,onOpen,multiple,disableCloseOnSelect:multiple,options,onClickAway:handleClickAway,width:250,onChange:handleChange,value:multiple?pendingValue:value,isSearchAutoFocus,title,...DropdownMenuProps,...rest,children:shouldShowButtons?(0,jsx_runtime.jsx)(DropdownButtons,{buttonPosition,onApply:handleButtonClose,onCancel:handleCancel}):null})]})}}}]);